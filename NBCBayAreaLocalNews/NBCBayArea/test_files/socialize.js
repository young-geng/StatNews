
// Debug info: server: WEB515, utc_time: 2014-03-06 06:22:09.059, src_ip: 199.239.183.60, method: HTTP/GET, api key: 3_4aWu9kOzRJ-9iXga_MvxhDVfJFeEx0A40C8ieTsXYKiIWGoDkEKc-BsyzJEFw7P4, site found?: True
if (typeof gigya == 'undefined' || !gigya.isGigya) { gigya = { isGigya: true } };
if (!gigya.__initialized) {
gigya.__initialized = true;

gigya.env='prod';
gigya.gaeDomain='chat.gigya.com';
gigya.build={version:'5.0.3',time:'Thu 02/27/2014 12:48:56.68'};
if (typeof gigya.partnerSettings == 'undefined') {
    gigya.partnerSettings={authMode:'cookie',baseDomains:'nbcbayarea.com', ssoLogoutUrl:'http://nbcbayarea.com/i/dispatcher/?h=v3_profile_logout', ssoKey:'3_F7DvL9i4ENrHnMnnzlIyfeiIeEJUL5XK9F966tcNX7QuyId-1X-RjYOvSSl4nGKm'};
    gigya.partnerSettings.plugins={"connectWithoutLoginBehavior":"alwaysLogin","defaultRegScreenSet":"Login-web","defaultMobileRegScreenSet":"Login-web","sessionExpiration":0,"apiDomain":"US1.gigya.com"};
}

// API adapters
var gigya;
(function(a){(function(c){(function(c){(function(e){(function(e){function c(b,d){d=a.utils.object.clone(d);if(a.partnerSettings.ssoKey){var k=g();d||(d={});var e=d.callback;d.callback=function(f){a.log.addLog("SSO: About to invoke callback for "+b+" with this response",f);e&&e(f)};d.m=b;d.d=f;d.lid=a.utils.xd._flashListenerID;d.legacyCrossSiteMethod&&"localstorage"!=d.legacyCrossSiteMethod.toLowerCase()&&(d.lid=d.legacyCrossSiteMethod+":"+a.utils.xd._flashListenerID);"function"==typeof d.callback&&(d.callbackID=
"gig_sso_cb"+(new Date).getTime(),a.utils.xd.addMessageListener(d.callbackID,{},!1,d.callback),delete d.callback);d.sAPIKey=a.thisScript.APIKey;var l=a.utils.keyValue.serialize(d);k.src="https://cdns.gigya.com/gs/sso.htm?APIKey="+a.partnerSettings.ssoKey+"&version=1#"+(new Date).getTime()+"&"+l;a.log.addLog("SSO: Calling "+b,{SSOKey:a.partnerSettings.ssoKey,params:d});document.body?a.utils.DOM.appendToBody(k):a.utils.functions.invokeOnPageLoad(function(){a.utils.DOM.appendToBody(k)})}else d&&d.callback&&
d.callback()}function g(){var a=document.getElementById("gig_sso");a||(a=document.createElement("iframe"),a.style.width="30px",a.style.height="10px",a.style.position="absolute",a.style.top="-1000px",a.style.left="-1000px",a.id="gig_sso");return a}function b(a){c("setToken",a)}var f=document.location.protocol+"//"+document.location.href.split("?")[0].split("#")[0].split("/")[2];e.getGroupToken=function(a){c("getToken",a)};e.setGroupTokenFromResponse=function(a,f,k){a.sessionInfo&&(a=a.sessionInfo);
var e=a.expires_in,e=null==e||""===e||isNaN(e)?47304E7:0==e?null:1E3*e,g=new Date;g.setTime(g.getTime()+e);b({lt:a.login_token,expiration:null==e?0:g.getTime(),legacyCrossSiteMethod:k,callback:f})};e.setGroupToken=b;e.logout=function(a){c("logout",a)};e.removeGroupToken=function(a){c("removeToken",a)}})(e.sso||(e.sso={}))})(c.web||(c.web={}))})(c.apiAdapters||(c.apiAdapters={}))})(a._||(a._={}))})(gigya||(gigya={}));
(function(a){(function(c){(function(i){(function(e){var j=function(){function j(a,b,f,h,d){"undefined"===typeof d&&(d={});this.baseUrl=a;this.methodName=b;this.params=f;this.callback=h;this.settings=d}j.prototype.getUrl=function(){return this.baseUrl+"/"+this.methodName};j.prototype.send=function(){};j.prototype.getAuthParams=function(){var g={};if(this.params.oauth_token)this.params.authMode="token";else{var b=e.tokenStore.get(this.params.APIKey);if(b){this.sentLoginToken=b;var f=a.utils.cookie.get("gltexp_"+
this.params.APIKey);null!=f&&(g.loginTokenExp=f);g.login_token=b}b=c.apiAdapter.getGcid();f=c.apiAdapter.getUcid();0==this.baseUrl.indexOf("https:")&&b&&(g.gcid=b);f&&(g.ucid=f);g.authMode="cookie"}return g};return j}();e.BaseRequest=j})(i.web||(i.web={}))})(c.apiAdapters||(c.apiAdapters={}))})(a._||(a._={}))})(gigya||(gigya={}));var __extends=this.__extends||function(a,c){function i(){this.constructor=a}for(var e in c)c.hasOwnProperty(e)&&(a[e]=c[e]);i.prototype=c.prototype;a.prototype=new i};
(function(a){(function(c){(function(c){(function(e){e.callback=function(a,g){!g&&a&&(g=a.context);if(g){var b=e.pendingRequests[g];b&&b.handleResponse(a)}};var j=function(j){function g(a,f,h,d,k,e){"undefined"===typeof e&&(e={});j.call(this,f,h,d,k,e);this.id=a;this.ifrName="gigyaPostIframe_"+(new Date).getTime();this.retry=0}__extends(g,j);g.prototype.addDefaultParams=function(){this.params.format="jsonp";this.params.callback=g.callbackName;this.params.context=this.id;a.utils.object.add(this.params,
this.getAuthParams());this.sentLoginToken=this.params.login_token};g.prototype.getCacheKey=function(){return this.methodName+"_"+a.utils.keyValue.serialize(this.params)};g.prototype.send=function(b){var f=this;if(!this.inProgress){e.pendingRequests[this.id]=this;this.inProgress=!0;this.params.sdk="js_"+a.build.version;this.addDefaultParams();var h=a.utils.keyValue.serialize(this.params);if(!b&&this.settings.cacheTimeout)h=this.getCacheKey(),a.utils.sessionCache.get(h,this.settings.cacheTimeout,function(a){a?
(delete f.settings.cacheTimeout,c.web.callback(a,f.id)):(f.inProgress=!1,f.send(!0))});else{b=0;a.localInfo.isIE&&(b=2048);var d=this.getUrl();4096>=d.length+1+h.length+b&&!this.settings.forcePost?a.utils.script.load(d+"?"+h,function(){c.web.callback({context:f.id,errorCode:500026,errorMessage:"Network_error"})}):a.utils.functions.invokeOnPageLoad(function(){var b=document.getElementById("gigyaRequestForms");null==b&&(b=document.createElement("span"),b.id="gigyaRequestForms",b.style.display="none",
a.utils.DOM.appendToBody(b));var h=f.getPostContainer();b.appendChild(h)})}}};g.prototype.createParamFormElements=function(){var b=[],f="";for(f in this.params)b=b.concat(['<textarea name="',f,'">']),"object"==typeof this.params[f]?b.push(a.utils.URL.URLEncode(a.utils.JSON.serialize(this.params[f]))):b.push(this.params[f]),b.push("</textarea>");return b.join("")};g.prototype.getPostContainer=function(){var b=this;if(!this.postContainer){var f=document.createElement("span"),h=this.ifrName+"form",d=
this.id;f.innerHTML=['<form accept-charset="UTF-8" id="',h,'" method="post" action="',this.getUrl(),"?context="+this.id+"&saveResponseID="+this.id+'" target="',this.ifrName,'">',this.createParamFormElements(),'<input name="utf8" type="hidden" value="&#x2713;" /><input type="submit" value="" /></form>'].join("");var e,g=a.utils.DOM.createElement("iframe",this.ifrName);g.setAttribute("id",this.ifrName);a.localInfo.isIE6&&g.setAttribute("src",a.thisScript.base+"/wildfire/DO_NOT_DELETE.htm");a.utils.DOM.addEventListener(g,
"load",function(){e?b.getSavedFormResponse(d):(window.setTimeout(function(){var a=document.getElementById(h);a&&a.submit()},10),e=!0)});f.appendChild(g);this.postContainer=f}return f};g.prototype.getSavedFormResponse=function(a){var f=this;(new g(a,this.baseUrl,"socialize.getSavedResponse",{APIKey:this.params.APIKey,saveResponseID:this.id},function(a){f.handleResponse(a)})).send()};g.prototype.getDataPendingTimeout=function(a){return 4>=a?500:8>=a?1E3:21>=a?2E3:39>=a?5E3:-1};g.prototype.handleResponse=
function(b){var f=this;this.settings.cacheTimeout&&a.utils.sessionCache.set(this.getCacheKey(),0==b.errorCode?b:null);null!=this.retryTimerID&&window.clearTimeout(this.retryTimerID);this.loaded=!0;this.inProgress=!1;100001==b.errorCode?(b=this.getDataPendingTimeout(this.retry++),0<b&&window.setTimeout(function(){f.send()},b)):(this.dispose(),this.callback(b))};g.prototype.dispose=function(){delete e.pendingRequests[this.id];a.utils.DOM.removeElement(this.getPostContainer())};g.callbackName="gigya._.apiAdapters.web.callback";
return g}(e.BaseRequest);e.JsonpRequest=j})(c.web||(c.web={}))})(c.apiAdapters||(c.apiAdapters={}))})(a._||(a._={}))})(gigya||(gigya={}));
(function(a){(function(c){(function(c){(function(e){var c=function(e){function g(a,f,h,d,k){"undefined"===typeof k&&(k={});e.call(this,a,f,h,d,k);this.windowName=this.methodName.replace(/\./g,"_").replace(/\//g,"")+"_"+(new Date).getTime();this.requestID=this.windowName+(new Date).getTime()}__extends(g,e);g.prototype.beforeRequest=function(){};g.prototype.afterResponse=function(b){(!b.dontClose||"false"==b.dontClose)&&a.utils.win.close(this.windowName);this.callback(b)};g.prototype.getAuthFlow=function(){return this.params.authFlow?
this.params.authFlow:"popup"};g.prototype.getStateString=function(){var b=a.utils.xd._flashListenerID;if(this.params.legacyCrossSiteMethod&&"localstorage"!=this.params.legacyCrossSiteMethod.toLowerCase()||a.localInfo.isIE&&window.navigator.msDoNotTrack)b=this.params.legacyCrossSiteMethod+":"+a.utils.xd._flashListenerID;var f=this.getAuthFlow(),b={domain:document.location.href.split("?")[0].split("#")[0],id:this.requestID,lid:b,messaging:a.localInfo.messagingMethod};if("redirect"==f||a.localInfo.isWindowsPhone)b.sourceURL=
window.top.document.location.href,this.params.redirectURL?(b.redirectURL=a.utils.URL.addParamsToURL(this.params.redirectURL,{gig_events:a.events.global.getEventsForOperation(this.methodName)}),b.addUserInfo=!0,this.params.redirectMethod&&(b.redirectMethod=this.params.redirectMethod)):b.sourceURL=a.utils.URL.addParamsToURL(b.sourceURL,{gig_events:a.events.global.getEventsForOperation(this.methodName)});this.params.provider&&"facebook"==this.params.provider.toLowerCase()&&(b.invite=this.params.invite);
(f=a.external.backplane.getChannelId())&&(b.bp_channel_url=f);return a.utils.keyValue.serialize(b)};g.prototype.getServerParamsString=function(){var b={},f;for(f in this.params)0!=f.indexOf("x_")&&null!=this.params[f]&&(b["x_"+f]=this.params[f],delete b[f]);b.x_APIKey&&(b.client_id=b.x_APIKey,delete b.x_APIKey);b.x_oauth_token&&(b.oauth_token=b.x_oauth_token,delete b.x_oauth_token);b.x_oauth_token&&(b.oauth_token=b.x_oauth_token,delete b.x_oauth_token);b.redirect_uri="/GS/AfterLogin.aspx";b.response_type=
this.params.authCodeOnly?"code":"server_token";b.format="jsonp";b.x_sdk="js_"+a.build.version;(f=a.utils.cookie.get("_gigRefUid_"+this.params.APIKey))&&(b.x_refUID=f);(f=a.utils.cookie.get("_gigRefUid_"+this.params.APIKey))&&(b.x_refUID=f);b.state=this.getStateString();a.utils.object.add(b,this.getAuthParams());delete b.redirectURL;this.sentLoginToken=b.login_token;return a.utils.keyValue.serialize(b)};g.prototype.send=function(){var b=this;this.beforeRequest();var f=this.getServerParamsString(),
h;this.params.provider&&(h=a.socialize._getProviderByName(this.params.provider.toLowerCase()));var d=null;null!=h&&(d=(this.params.enablePopupLocation?"location=1,toolbar=1":"toolbar=0,")+"menubar=0,resizable=1,scrollbars=1,width="+h.width+",height="+h.height);var e=this.methodName.split(".");a.reports.report(e[e.length-1],this.params.APIKey,this.params.cid,this.params.source,this.params.sourceData,{sn:h?h.toString():null});f=this.getUrl()+"?"+f;"redirect"==this.getAuthFlow()?window.top.document.location.href=
f:(a.utils.xd.addMessageListener(this.requestID,{},!0,function(a){b.afterResponse(a)}),a.utils.win.open(f,this.windowName,d))};return g}(e.BaseRequest);e.OauthRequest=c})(c.web||(c.web={}))})(c.apiAdapters||(c.apiAdapters={}))})(a._||(a._={}))})(gigya||(gigya={}));
(function(a){(function(c){(function(c){(function(e){(function(c){function i(b){b||(b=a.thisScript.APIKey);return b?"glt_"+b:"_gig_lt"}var g={};c.activeNamespaces={};c.get=function(b){return(b=a.utils.cookie.get(i(b)))?b.split("|")[0]:null};c.set=function(b,f,h){a.utils.localStorage.removeItem("gigyaSettings");b||(b=a.thisScript.APIKey);b?(a.utils.cookie.set("glt_"+b,f,h),a.utils.cookie.remove("gac_"+b)):a.utils.cookie.set("_gig_lt",f,h)};c.setFromGAC=function(b,f){if(a.thisScript.APIKey){var h=a.utils.cookie.get("gac_"+
a.thisScript.APIKey);h&&!b.neverTryGAC?('"'==h.charAt(0)&&'"'==h.charAt(h.length-1)&&(h=h.substring(1,h.length-1)),g[h]?f():(g[h]=!0,a.socialize.notifyLogin({ignoreApiQueue:!0,neverTryGAC:!0,authCode:h,APIKey:a.thisScript.APIKey,client_id:a.thisScript.APIKey},{callback:function(){a.utils.cookie.remove("gac_"+a.thisScript.APIKey);f();a.socialize.refreshUI({neverTryGAC:!0})}}))):f()}else f()};c.setFromSsoResponse=function(b,f){"undefined"===typeof f&&(f=a.thisScript.APIKey);0==b.errorCode&&(c.set(f,
b.login_token,b.expires_in),a.socialize.getUserInfo({signIDs:!0,callback:function(f){b.errorCode==0&&a.events.global._activeNamespaces.accounts&&a.accounts.getAccountInfo({callback:function(f){var b={eventName:"accounts.login"};a.utils.object.extractProperties(f,b,"signature|UIDSig|timestamp|UIDSignature|signatureTimestamp|UID|profile|data");a.events.global.dispatch(b)},include:"profile,data",includeUserInfo:false});f=a._.addUserInfoToEvent(f,{eventName:"login"},true);a.events.global.dispatch(f);
a.external.backplane.executeOnInit(function(){a.external.backplane.getChannelId()&&a.socialize.notifySSOLogin({bp_channel_url:a.external.backplane.getChannelId()})})}}))};c.remove=function(b){e.sso.removeGroupToken();b||(b=a.thisScript.APIKey);a.utils.cookie.remove("glt_"+b);a.utils.cookie.remove("_gig_lt")};c.migrateExisting=function(){var b=a.utils.cookie.get("_gig_lt");b&&(a.thisScript.APIKey&&!c.get())&&(a.utils.cookie.remove("_gig_lt"),c.set(null,b))};c.getTokenParam=function(b,f){var h=a.utils.cookie.get(i(b));
if(h)return h=h.split("|"),1<h.length?a.utils.keyValue.deserialize(h[1])[f]:null}})(e.tokenStore||(e.tokenStore={}))})(c.web||(c.web={}))})(c.apiAdapters||(c.apiAdapters={}))})(a._||(a._={}))})(gigya||(gigya={}));gigya.isGigya||(gigya.isGigya=!0);
(function(a){(function(c){(function(c){(function(e){var c,i;e.callbacks={};e.pendingRequests={};var g=function(){function b(){this.name="Web"}b.prototype.init=function(f){var b=this;a.utils.functions.createAlias("gigya.auth.loginToken.get",e.tokenStore.get);this.getIds(function(){b.checkReturnFromURL();b.isSessionValid(void 0,function(a){a?f():e.sso.getGroupToken({callback:function(a){a&&e.tokenStore.setFromSsoResponse(a);f()}})})})};b.prototype.isSessionValid=function(a,b){typeof a==="undefined"&&
(a={});e.tokenStore.setFromGAC(a,function(){if(b){var d=e.tokenStore.get()!=null||a.oauth_token!=null;b(d)}})};b.prototype.getUcid=function(){return i};b.prototype.getGcid=function(){return c};b.prototype.registerForNamespaceEvents=function(){};b.prototype.onPluginEvent=function(){};b.prototype.sendRequest=function(a,b,d,c){typeof c==="undefined"&&(c={});var g=this;this.beforeRequest(a,b,c);var l=this.getBaseUrl(a,b,c),i=this.getRequestId(l,a,b,c.disableCache);e.callbacks[i]=e.callbacks[i]||[];e.callbacks[i].push(d);
if(!e.pendingRequests[i]){var j=new e.JsonpRequest(i,l,a,b,function(a){g.afterResponse(j,a,function(a){g.dispatchCallbacks(i,a)})},c);j.send()}};b.prototype.sendOauthRequest=function(a,b,d,c){var g=this;this.beforeRequest(a,b,c);var l=this.getBaseUrl(a,b,c),i=new e.OauthRequest(l,a,b,function(a){g.afterResponse(i,a,function(a){d(a)})},c);i.send()};b.prototype.getBaseUrl=function(b,h,d){b=b.split(".");b=a.utils.stringUtils.format("{0}.{1}",b[0],a.partnerSettings.plugins.apiDomain);return(d.forceHttps||
e.tokenStore.get()||h.regToken||h.oauth_token||a.thisScript.protocol=="https"?"https://":"http://")+b};b.prototype.getIds=function(b){var h=a.partnerSettings.ssoKey||a.thisScript.APIKey;if(h){var d=false;if(a.localInfo.isSafari)try{window.localStorage.setItem("gigTest","1");window.localStorage.removeItem("gigTest")}catch(e){e.code===DOMException.QUOTA_EXCEEDED_ERR&&window.localStorage.length===0&&(d=true)}if(a.localInfo.supportsLocalStorage&&a.utils.cookie.get("gig3pc")!="1"&&!d){a.global._onIDs=
function(d){if(d&&d.data&&d.data.indexOf)if(d.data.indexOf("gig3pc=true")!=-1){a.utils.cookie.set("gig3pc","1",172800,a.partnerSettings.baseDomain);b()}else if(d.data.indexOf("gcid=")==0){d=a.utils.keyValue.deserialize(d.data);a.log.addLog("Safari IDs Proxy: Got callback with this response",d);if(d){d.gcid!="-1"&&(c=d.gcid);d.ucid!="-1"&&(i=d.ucid)}d=a.global.ifrGcid;d.parentNode.removeChild(d);delete a.global.ifrGcid;a.utils.DOM.removeEventListener(window,"message",a.global._onIDs);delete a.global._onIDs;
b()}};a.utils.DOM.addEventListener(window,"message",a.global._onIDs);var g=document.createElement("iframe"),d=document.location.protocol+"//"+document.location.href.split("?")[0].split("#")[0].split("/")[2];g.src="https://cdns.gigya.com/gs/gigIDsProxy.htm?APIKey="+encodeURIComponent(h)+"&domain="+encodeURIComponent(d)+"&apiDomain="+encodeURIComponent(a.partnerSettings.plugins.apiDomain);g.style.width="30px";g.style.height="10px";g.style.position="absolute";g.style.top="-1000px";g.style.left="-1000px";
a.global.ifrGcid=g;a.log.addLog("Gigya IDs Proxy: Calling getIDs",{apiKey:h,domain:d});document.body?a.utils.DOM.appendToBody(g):a.utils.functions.invokeOnPageLoad(function(){a.utils.DOM.appendToBody(g)})}else b()}else b()};b.prototype.beforeRequest=function(a,b,d){typeof d==="undefined"&&(d={});d.clearSession&&e.tokenStore.remove(b.APIKey)};b.prototype.afterResponse=function(a,b,d){var e=this;this.handleTokenResponse(a,b,function(){e.logoutSsoIfNeeded(a,b,function(){d(b)})})};b.prototype.onSDKEvent=
function(){};b.prototype.getTokenParam=function(a,b){return e.tokenStore.getTokenParam(a,b)};b.prototype.checkReturnFromURL=function(){var b=a.utils.URL.getParamsFromURL(document.location.href);b.gig_events&&b.errorCode==0&&e.tokenStore.get()!=null&&e.sso.setGroupTokenFromResponse({errorCode:0,login_token:e.tokenStore.get(),expires_in:b.expires_in},function(){var e=b.gig_events.split(",");a.utils.array.indexOf(e,"accounts.login")!=-1?a.accounts.getAccountInfo({include:"profile,data,userinfo",callback:function(b){var f=
{errorCode:0,eventName:"accounts.login"};a.utils.object.extractProperties(b,f,"signature|UIDSig|timestamp|UIDSignature|signatureTimestamp|UID|profile|data");a.events.global.dispatch(f);a.events.global.dispatchWhenHandlerAdded(f);if(a.utils.array.indexOf(e,"socialize.login")!=-1){b=a._.addUserInfoToEvent(b,{errorCode:0,eventName:"socialize.login"},true);a.events.global.dispatch(b);a.events.global.dispatchWhenHandlerAdded(b)}}}):a.socialize.getUserInfo({signIDs:true,callback:function(b){for(var f=0;f<
e.length;f++){var c=a._.addUserInfoToEvent(b,{errorCode:0,eventName:e[f]},true);a.events.global.dispatch(c);a.events.global.dispatchWhenHandlerAdded(c)}}})},a.thisScript.globalConf.legacyCrossSiteMethod)};b.prototype.setNewLoginTokenFromResponse=function(a,b,d){var c=b.sessionInfo?b.sessionInfo.login_token:b.login_token;if(c){e.tokenStore.set(a.params.APIKey,c,b.sessionInfo!=null?b.sessionInfo.expires_in:b.expires_in,a.params.legacyCrossSiteMethod);e.sso.setGroupTokenFromResponse(b,d,a.params.legacyCrossSiteMethod)}else d()};
b.prototype.onInvalidTokenResponse=function(a,b){e.sso.getGroupToken({callback:function(d){if(d&&d.login_token&&d.login_token.split("|")[0]!=a.sentLoginToken){e.tokenStore.setFromSsoResponse(d,a.params.APIKey);a.send()}else{e.tokenStore.remove(a.params.APIKey);if(a.settings.requiresSession)b();else{delete a.params.login_token;delete a.sentLoginToken;a.send()}}}})};b.prototype.handleTokenResponse=function(b,c,d){var g=this,c=a.utils.object.clone(c);if(!(c.errorCode==403030&&this.shouldWaitForService(b,
c))){b.sentLoginToken&&(a._.logoutMethods[b.methodName]&&c.errorCode==0)&&e.tokenStore.remove(b.params.APIKey);this.setNewLoginTokenFromResponse(b,c,function(){if(b.sentLoginToken&&c.errorCode==403005)g.onInvalidTokenResponse(b,d);else d()})}};b.prototype.logoutSsoIfNeeded=function(b,c,d){var g=this;a.partnerSettings.ssoKey&&a._.logoutMethods[b.methodName]&&c.errorCode==0?document.location.href!=a.partnerSettings.ssoLogoutUrl?e.sso.logout({callback:function(a){g.loadLogoutUrls(a.logoutURLs.split(","),
d,{UID:c.UID,UIDSignature:c.UIDSignature,signatureTimestamp:c.signatureTimestamp})}}):d():d()};b.prototype.loadLogoutUrls=function(b,c,d){for(var e=0,g=0;g<b.length;g++)this.loadLogoutUrl(a.utils.URL.addParamsToURL(b[g],d),function(){e++;e>=b.length&&c()})};b.prototype.loadLogoutUrl=function(b,e,d){typeof d==="undefined"&&(d=5E3);var c=document.createElement("iframe");c.src=b;c.style.position="absolute";c.style.top="-1000px";c.style.left="-1000px";var g=false,i=function(){g=true;c.parentElement.removeChild(c);
e()};window.setTimeout(function(){g||i()},d);c.onload=c.onreadystatechange=function(){!g&&(!c.readyState||c.readyState=="complete")&&i()};a.utils.DOM.appendToBody(c)};b.prototype.shouldWaitForService=function(b){if(b.params.retryPossible==true){b.params.retryPossible=false;a.external.facebook.runWhenLoaded(function(){b.send()});return true}return false};b.prototype.dispatchCallbacks=function(b,c){var d=e.callbacks[b];if(d)for(var g=0;g<d.length;g++)if(typeof d[g]=="function")d[g](a.utils.object.clone(c));
delete e.callbacks[b]};b.prototype.getRequestId=function(b,c,d,e){var g=navigator.userAgent.toLowerCase().indexOf("safari/534")!=-1;if(e||g)b="R"+(new Date).getTime()+"_"+Math.random();else{var d=a.utils.object.clone(d),i;for(i in d)(i.indexOf("fb_")==0||i=="source"||i=="sourceData")&&delete d[i];b="R"+a.utils.object.getMurmurHash(b+c+a.utils.object.getHash(d))}return b};return b}();e.WebAdapter=g})(c.web||(c.web={}))})(c.apiAdapters||(c.apiAdapters={}))})(a._||(a._={}))})(gigya||(gigya={}));
var gigya;
(function(f){(function(c){(function(c){(function(c){c.mobileCallbacks={};c.showPlugin=function(a,b){var d,e=a.split(".");1<e.length?(a=e.splice(e.length-1,1)[0],e=e.join(".")):e="socialize";"commentsUI"==a&&(e="comments");d||(d="show"+f.utils.stringUtils.capitalize(a));eval("gigya."+e+"."+d)(b)};var j=function(){function a(){this.name="Mobile"}a.prototype.init=function(b){var d=this;f.events.addMap({defaultMethod:function(b){d.onPluginEvent(b)},eventMap:[{events:"*",args:["$event"]}]});this.sendToMobile("get_ids",
null,function(a){d.ucid=a.ucid;d.gcid=a.gcid;for(var c in f.events.global._activeNamespaces)d.registerForNamespaceEvents(c);b()})};a.prototype.getTokenParam=function(){return""};a.prototype.getUcid=function(){return this.ucid};a.prototype.getGcid=function(){return this.gcid};a.prototype.onPluginEvent=function(b){b.isGlobal||this.sendToMobile("on_plugin_event",b)};a.prototype.onCustomEvent=function(b){this.sendToMobile("on_custom_event",b)};a.prototype.registerForNamespaceEvents=function(b){this.sendToMobile("register_for_namespace_events",
{namespace:b})};a.prototype.isSessionValid=function(b,a){this.sendToMobile("is_session_valid",b,a)};a.prototype.sendRequest=function(b,a,e,c){this.sendToMobile("send_request/"+b,a,e,c)};a.prototype.sendOauthRequest=function(b,a,c,f){this.sendToMobile("send_oauth_request/"+b,a,c,f)};a.prototype.sendToMobile=function(a,d,e,i){var g=document.createElement("iframe");g.style.display="none";document.documentElement.appendChild(g);d&&delete d.APIKey;if(e){var h=(new Date).getTime()+"_"+Math.random();c.mobileCallbacks[h]=
function(a){e(a);document.documentElement.removeChild(g);delete c.mobileCallbacks[h]}}a="gsapi://"+a+"?callbackID="+(h||"")+"&params="+(d?encodeURIComponent(f.utils.keyValue.serialize(d)):"")+"&settings="+(i?encodeURIComponent(f.utils.keyValue.serialize(i)):"");g.src=a};a.prototype.onSDKEvent=function(a){a&&a.user&&f._.convertIdentitiesArrayToObject(a.user);f.events.global.dispatch(a)};return a}();c.MobileAdapter=j})(c.mobile||(c.mobile={}))})(c.apiAdapters||(c.apiAdapters={}))})(f._||(f._={}))})(gigya||
(gigya={}));

// end API adapters
var gigya;
(function(a){var c=navigator.userAgent.toLowerCase(),d=new Date,h=document.location.href.split("?")[0].split("#")[0].split("/")[2].split(":")[0],b=-1!=c.indexOf("win"),g=-1!=c.indexOf("msie")||-1!=c.indexOf("mozilla")&&-1!=c.indexOf("trident"),e=-1!=c.indexOf("msie 6."),f=-1!=c.indexOf("msie 7."),i=-1!=c.indexOf("msie 8."),k=-1!=c.indexOf("msie 9."),j=-1!=c.indexOf("mozilla")&&-1!=c.indexOf("trident/7.0"),l=-1!=c.indexOf("iphone")||-1!=c.indexOf("ipad")||-1!=c.indexOf("ipod"),m;m=-1!=c.indexOf("applewebkit")&&-1!=
c.indexOf("version/")?parseInt(c.split("version/")[1].split(" ")[0]):0;var p=-1!=c.indexOf("android"),n;n=-1!=c.indexOf("android")?parseFloat(c.slice(c.indexOf("android")+8)):0;var q=-1!=c.indexOf("chrome"),o=-1!=c.indexOf("firefox"),s=-1!=c.indexOf("opera"),r=navigator.appVersion&&-1!=navigator.appVersion.toLowerCase().indexOf("safari")&&-1==navigator.appVersion.toLowerCase().indexOf("chrome")&&-1==c.indexOf("android"),u=/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(navigator.userAgent),v=
-1!=c.indexOf("crios"),w=navigator.appVersion&&-1!=navigator.appVersion.toLowerCase().indexOf("mac")?!0:!1,x=-1!=c.indexOf("windows phone"),y=null!=window.postMessage&&(-1==c.indexOf("msie")||-1!=c.indexOf("iemobile")),z=null!=window.localStorage,A="BackCompat"==document.compatMode&&-1!=c.indexOf("msie"),B="BackCompat"==document.compatMode,t;a:{t="iphone;android;midp;240x320;blackberry;netfront;nokia;panasonic;portalmmm;sharp;sie-;sonyericsson;symbian;windows ce;benq;mda;mot-;opera mini;philips;pocket pc;sagem;samsung;htc".split(";");
for(var C in t)if(-1!=c.indexOf(t[C])){t=!0;break a}t=!1}a.localInfo={initTime:d,version:0,pageDomain:h,userAgent:c,isWin:b,isIE:g,isIE6:e,isIE7:f,isIE8:i,isIE9:k,isIE11:j,isIOS:l,iosVersion:m,isAndroid:p,androidVersion:n,isChrome:q,isFF:o,isOpera:s,isSafari:r,isIOSWebView:u,isIOSChrome:v,isMAC:w,isWindowsPhone:x,supportsPostMessage:y,supportsLocalStorage:z,quirksMode:A,backCompat:B,isMobile:t,isTouch:"ontouchstart"in window||"onmsgesturechange"in window,messagingMethod:0}})(gigya||(gigya={}));
(function(a){var c=navigator.userAgent.toLowerCase();(function(d){(function(a){a.indexOf=function(a,e){for(var f=0;f<a.length;f++)if(a[f]==e)return f;return-1};a.clone=function(a){for(var e=[],f=0;f<a.length;f++)e[f]=a[f];return e};a.removeByProperty=function(a,e,f){if(a)for(var i=a.length-1;0<=i;i--)a[i][e]==f&&a.splice(i,1)}})(d.array||(d.array={}));(function(a){a.create=function(a,e){for(var f=0;f<arguments.length-2;f++);return function(){return e.apply(a,arguments)}}})(d.delegate||(d.delegate=
{}));(function(b){b.fill=function(g,e){"function"==typeof g&&(g=g(e));g instanceof Array&&(g=g.join(""));var f=/(\$)(!?)([a-z_][a-z_.\d]*)([(][^()]*[)])?|(\$)(!?)\{([a-z_][a-z_.\d]*)([(][^()]*[)])?\}/gi;f.lastIndex=0;for(var i=g,k=f.exec(i),b;null!=k;){b="$"==k[1]?0:4;var d="!"==k[2+b],c=k[3+b];b=k[4+b];null==b&&(b="");"."==c.substring(0,1)&&(c=c.substring(1));"DBG"==c.substring(0,3)&&(c=c.substring(3));var p="";for(b=c+b;b!=p;){var p=b,h=f.lastIndex;b=a.utils.templates.fill(p,e);f.lastIndex=h}p=
"";h=0;if(null!=e[c.split(".")[0]])try{p=(new Function("o","p",'return eval("o." + p)'))(e,b)}catch(q){}else p="$"+(d?"!":"")+b,h=1;i=d?i.replace(k[0],""):i.substr(0,k.index)+p+i.substr(k.index+k[0].length);f.lastIndex=k.index+h;k=f.exec(i)}return i}})(d.templates||(d.templates={}));(function(b){b.callFunction=function(a,e){var f=eval(a),i=a.split(".");i.splice(i.length-1,1);i=eval(i.join("."));f.apply(i,e)};b.invokeOnPageLoad=function(g,e){if(!document.readyState&&document.body||"loaded"==document.readyState||
"complete"==document.readyState||!e&&"interactive"==document.readyState&&document.body)g();else{var f=!1,i=function(){f||(f=!0,g())};window.setTimeout(i,2E4);a.utils.DOM.addEventListener(window,"load",i);a.utils.DOM.addEventListener(document,"DOMContentLoaded",i)}};b.createAlias=function(a,e){for(var f=a.split("."),i=window,b=0;b<f.length-1;b++){var d=f[b];i[d]||(i[d]={});i=i[d]}i[f[f.length-1]]=e}})(d.functions||(d.functions={}));(function(b){var g={};b.open=function(e,f,i){if(a.localInfo.isIE&&
2048<e.length||4096<e.length)a.utils.redirect(e.split("?")[0],[a.utils.URL.getParamsFromURL(e)],"POST","_blank");else{i||(i="menubar=0,toolbar=0,resizable=1,scrollbars=1,width=960,height=680");var b=i;try{var d=parseInt(i.split("width=")[1].split(",")[0]),c=parseInt(i.split("height=")[1].split(",")[0]),m=(screen.width-d)/2,p=(screen.height-c)/2;0>m&&(m=0);0>p&&(p=0);b+=",top="+p+",left="+m}catch(h){}(e=window.open(e,f,b))&&e.focus&&e.focus();g[f]=e}return null!=g[f]};b.close=function(e){if(null!=
g[e]){var f=function(){try{null!=g[e]&&g[e].close(),delete g[e]}catch(a){}};6<=a.localInfo.iosVersion?f():window.setTimeout(f,10)}}})(d.win||(d.win={}));(function(a){a.isExplicitTrue=function(a){a=(""+a).toLowerCase();return"true"==a||"1"==a};a.isExplicitFalse=function(a){a=(""+a).toLowerCase();return"false"==a||"0"==a}})(d.validation||(d.validation={}));(function(b){function g(a,e,f){if(!e)return a;for(var e=e.split("."),g=0;g<e.length;g++){var b=e[g];f&&!a[b]&&(a[b]={});if(a[b])a=a[b];else return null}return a}
function e(a,f,g,b,d,c){d||(d=0);if("undefined"==typeof a||null==a||"function"==typeof a&&g)return null;if(a.constructor==Array){for(var h=[],q=0;q<a.length;q++)if(!g||"function"!=typeof a[q])h[q]=f?e(a[q],f,g,b,d+1,c):a[q];return h}if("object"==typeof a){h={};for(q in a)if(!(c&&"context"==q)&&(!g||"function"!=typeof a[q]))h[q]=f?e(a[q],f,g,b,d+1,c):a[q];return h}return a}function f(e,g,b){if(null!=e){null==g&&(g={});if(e.constructor==Array)for(var d=0;d<e.length;d++)f(e[d],g,b);else if(b){var b=
b.split("|"),c={};for(d in e)c[d.toLowerCase()]=1;for(var h=0;h<b.length;h++)d=b[h],c[d.toLowerCase()]&&(g[d]=e[d])}else g=a.utils.object.clone(e,!1);return g}}b.removeUndefined=function(a){var e={},f;for(f in a)null!=a[f]&&void 0!=a[f]&&(e[f]=a[f]);return e};b.getPropertyBySerializedName=g;b.setPropertyBySerializedName=function(a,e,f){var e=e.split("."),b=e.pop();g(a,e.join("."),!0)[b]=f};b.add=function(a,e){for(var f in e)a[f]=e[f]};b.getHash=function(a){var e=[],f;for(f in a)e.push(f+"="+a[f]);
return e.sort().join("&")};b.getMurmurHash=function(a,e){e||(e=0);var f,g,b,d,c;f=a.length&3;g=a.length-f;b=e;for(c=0;c<g;)d=a.charCodeAt(c)&255|(a.charCodeAt(++c)&255)<<8|(a.charCodeAt(++c)&255)<<16|(a.charCodeAt(++c)&255)<<24,++c,d=3432918353*(d&65535)+((3432918353*(d>>>16)&65535)<<16)&4294967295,d=d<<15|d>>>17,d=461845907*(d&65535)+((461845907*(d>>>16)&65535)<<16)&4294967295,b^=d,b=b<<13|b>>>19,b=5*(b&65535)+((5*(b>>>16)&65535)<<16)&4294967295,b=(b&65535)+27492+(((b>>>16)+58964&65535)<<16);d=0;
switch(f){case 3:d^=(a.charCodeAt(c+2)&255)<<16;case 2:d^=(a.charCodeAt(c+1)&255)<<8;case 1:d^=a.charCodeAt(c)&255,d=3432918353*(d&65535)+((3432918353*(d>>>16)&65535)<<16)&4294967295,d=d<<15|d>>>17,b^=461845907*(d&65535)+((461845907*(d>>>16)&65535)<<16)&4294967295}b^=a.length;b^=b>>>16;b=2246822507*(b&65535)+((2246822507*(b>>>16)&65535)<<16)&4294967295;b^=b>>>13;b=3266489909*(b&65535)+((3266489909*(b>>>16)&65535)<<16)&4294967295;return(b^b>>>16)>>>0};b.clone=e;b.merge=function(a){for(var e={},f=0;f<
a.length;f++)if(a[f]&&a[f].length)for(var b=0;b<a[f].length;b++)for(var g in a[f][b])e[g]=a[f][b][g];else for(g in a[f])e[g]=a[f][g];return e};b.extractProperties=f;b.extractProperty=function(a,e){return f(a,void 0,e)[e]}})(d.object||(d.object={}));(function(b){function g(e,f,i,b,g){var d=a.localInfo.pageDomain,c=a.partnerSettings.baseDomain;null==b&&(b=0<c.length&&d.length>=c.length&&d.lastIndexOf(c)==d.length-c.length?c:d);i=null==i||""===i||isNaN(i)?47304E7:0==i?null:1E3*i;d=new Date;d.setTime(d.getTime()+
i);e=e+"="+escape(f)+(g?"":"; path=/")+(null==i?"":"; expires="+d.toUTCString())+(b&&""!=b&&-1!=b.indexOf(".")?"; domain="+b:"");document.cookie=e}b.get=function(a){a=a.replace(/([.*+?^=!:${}()|[\]\/\\])/g,"\\$1").replace(/^[ \t]+|[ \t]+$/g,"");return(a=document.cookie.match(RegExp("(?:^|;)\\s?"+a+"=(.*?)(?:;|$)")))&&unescape(a[1])};b.set=g;b.remove=function(e){var f=a.localInfo.pageDomain,i=a.partnerSettings.baseDomain;0<i.length&&(f.length>=i.length&&f.lastIndexOf(i)==f.length-i.length)&&(g(e,"",
-1,i),g(e,"",-1,i,!0));g(e,"",-1,a.localInfo.pageDomain);g(e,"",-1,a.localInfo.pageDomain,!0);g(e,"",-1,"");g(e,"",-1,"",!0)}})(d.cookie||(d.cookie={}));(function(a){a.sanitizeHTML=function(a){return null==a||"undefined"==typeof a?a:a.replace(/&/g,"&#38;").replace(/</g,"&#60;").replace(/>/g,"&#62;").replace(/\"/g,"&#34;").replace(/'/g,"&#39;").replace(/&#38;#173;/g,"&#173;")};a.sanitizeAttribute=function(a){return null==a||"undefined"==typeof a?a:a.replace(/&/g,"&#38;").replace(/</g,"&#60;").replace(/>/g,
"&#62;").replace(/\"/g,"&#34;").replace(/\=/g,"&#61;")}})(d.sanitize||(d.sanitize={}));(function(a){function g(a,f,i,b){b||(b=0);if(10<b)return"[Too deep]";var d="",c="",h="";if(i)for(var h="\t",c="\n",p=0;p<b+1;p++)d+=h;var n=typeof a;if("function"==n)return n.toString();if("object"!=n||null===a)return"string"==n&&(a='"'+a.replace(/\"/g,'\\"')+'"'),""+a;var q,o,s=[],r=a&&a.constructor==Array;if(r)for(p=0;p<a.length;p++)o=a[p],n=typeof o,null==o||"undefined"==n?o="":"string"==n?o='"'+o.replace(/\"/g,
'\\"')+'"':"function"==n?o=f?"[Function]":"":o.parentNode&&o.innerHTML?o="[HTML Element]":o.constructor==Date?o="":"object"==n&&null!==o&&(o=g(o,f,i,b+1)),""!=""+o&&s.push(d+h+(""+o));else for(q in a)o=a[q],n=typeof o,null==o||"undefined"==n?o=""+o:"string"==n?o='"'+o.replace(/\"/g,'\\"')+'"':"function"==n?o=f?"[Function]":"":o.parentNode&&o.innerHTML?o="[HTML Element]":o.constructor==Date?o="":"object"==n&&null!==o&&(o=c+g(o,f,i,b+1)),""!=""+o&&s.push(d+h+'"'+q.replace(/\"/g,'\\"')+'":'+(""+o));
return c+d+(r?"[":"{")+c+s.join(","+c)+c+d+(r?"]":"}")}a.serialize=g;a.deserialize=function(a){""===a&&(a='""');eval("var o");try{eval("o="+a)}catch(f){}return eval("o")}})(d.JSON||(d.JSON={}));(function(a){function g(){var a=0,e=0;if("number"==typeof window.pageYOffset)e=window.pageYOffset,a=window.pageXOffset;else if(document.body&&(document.body.scrollLeft||document.body.scrollTop))e=document.body.scrollTop,a=document.body.scrollLeft;else if(document.documentElement&&(document.documentElement.scrollLeft||
document.documentElement.scrollTop))e=document.documentElement.scrollTop,a=document.documentElement.scrollLeft;return{left:a,top:e}}function e(){var a,e;e=document.documentElement;var b=document.body;if(window.innerHeight)a=window.innerHeight,e=window.innerWidth;else if(a=e.clientHeight,0==a&&(a=b.clientHeight),e=e.clientWidth,0==e)e=b.clientWidth;return{w:e,h:a}}a.getScroll=g;a.getFullSize=function(){var a=document.documentElement,e=document.body,b=a.clientHeight;0==b&&(b=e.clientHeight);a=a.clientWidth;
0==a&&(a=e.clientWidth);return{w:a,h:b}};a.getInnerSize=e;a.getMiddleCenter=function(){var a=g(),b=e();return{top:a.top+Math.floor(b.h/2),left:a.left+Math.floor(b.w/2)}};a.isRectHorizontallyVisible=function(a){var b=g(),d=e();return a.left>=b.left&&a.right<=b.left+d.w};a.isRectFullyVisible=function(a){var b=g(),d=e();return a.top>=b.top&&a.bottom<=b.top+d.h&&a.left>=b.left&&a.right<=b.left+d.w}})(d.viewport||(d.viewport={}));var h=d.viewport;(function(a){a.getPosition=function(){var a=0,e=0;if(document.body){var f=
null,f={clientX:0,clientY:0};if(f.pageX||f.pageY)a=f.pageX,e=f.pageY;else if(f.clientX||f.clientY)a=f.clientX+document.body.scrollLeft+document.documentElement.scrollLeft,e=f.clientY+document.body.scrollTop+document.documentElement.scrollTop;return{x:a,y:e}}}})(d.mouse||(d.mouse={}));(function(b){var g=function(){},e=function(){return null},f=function(){};if(a.localInfo.supportsLocalStorage)g=function(a,e){try{window.localStorage[a]=e}catch(f){}},e=function(a){return window.localStorage[a]},f=function(a){window.localStorage.removeItem(a)};
else if(a.localInfo.isIE6||a.localInfo.isIE7)var i,d=function(){i||(i=document.createElement("div"),i.addBehavior("#default#userData"),a.utils.DOM.appendToBody(i))},c=function(){try{d(),i.save("gigya_ud")}catch(a){}},l=function(){try{d(),i.load("gigya_ud")}catch(a){}},g=function(a,e){l();i.setAttribute(encodeURIComponent(a).replace(/\%/g,""),e);c()},e=function(a){l();return i.getAttribute(encodeURIComponent(a).replace(/\%/g,""))},f=function(a){l();i.removeAttribute(encodeURIComponent(a).replace(/\%/g,
""));c()};else if(a.localInfo.isFF)var h=window.globalStorage,g=function(a,e){try{h[location.hostname][a]=e}catch(f){}},e=function(a){return h[location.hostname][a]},f=function(a){delete h[location.hostname][a]};b.getItem=function(a){return e(a)};b.setItem=function(a,e){g(a,e)};b.removeItem=function(a){f(a)};b.setObject=function(e,f){var b=a.utils.JSON.serialize(f);g(e,b)};b.getObject=function(e){e=this.getItem(e);try{e=a.utils.JSON.deserialize(e)}catch(f){}return e}})(d.localStorage||(d.localStorage=
{}));d.redirect=function(b,g,e,f){if(e&&"post"==e.toLowerCase()){var e=document.createElement("form"),i=[];e.setAttribute("accept-charset","UTF-8");e.setAttribute("method","POST");e.setAttribute("action",b);f&&e.setAttribute("target",f);var b=a.utils.object.merge(g),d;for(d in b)("boolean"==typeof b[d]||"string"==typeof b[d])&&"eventName"!=d&&i.push('<textarea name="'+encodeURIComponent(d)+'">'+b[d]+"</textarea>");e.innerHTML=i.join("");e.style.display="none";a.utils.DOM.appendToBody(e);e.submit()}else{e=
b.split("?");b=e[0];f={};if(1<e.length){e=e[1].split("&");for(i=0;i<e.length;i++){var c=e[i].split("=");f[decodeURIComponent(c[0])]=decodeURIComponent(c[1])}}for(e=0;e<g.length;e++)for(d in i=g[e],i)if(("boolean"==typeof i[d]||"string"==typeof i[d])&&"eventName"!=d)f[d]=i[d];g=[];for(d in f)g.push(d+"="+encodeURIComponent(f[d]));document.location.href=b+"?"+g.join("&")}};(function(b){b.URLEncode=function(a){return encodeURIComponent(a)};b.URLDecode=function(a){return decodeURIComponent(a).replace(/\+/g,
" ")};b.getParamsFromURL=function(b,e){return-1==b.indexOf("?")?{}:a.utils.keyValue.deserialize(b.split("#")[0].split("?")[1],"&",e)};b.getParamValueFromURL=function(a,e,f){if(null==e||""==e)return f;var b=e.indexOf("?");if(-1==b)return f;b="&"+e.substr(b+1);e=b.toLowerCase().indexOf("&"+a.toLowerCase()+"=");if(-1==e)return f;a=b.substr(e+(1+a.length+1))+"&";e=a.indexOf("&");return a.substr(0,e)};b.addParamsToURL=function(b,e){var f=a.utils.URL.getParamsFromURL(b);a.utils.object.add(f,e);var d=b.split("#"),
f=d[0].split("?")[0]+"?"+a.utils.keyValue.serialize(f,"&");1<d.length&&(f+="#"+d[1]);return f}})(d.URL||(d.URL={}));(function(b){b.serialize=function(b,e){var f=[];e||(e="&");for(var d in b)switch(typeof b[d]){case "function":break;case "array":case "object":null!=b[d]&&f.push(d+"="+a.utils.URL.URLEncode(a.utils.JSON.serialize(b[d])));break;case "undefined":break;default:f.push(d+"="+a.utils.URL.URLEncode(b[d]))}return f.join(e)};b.deserialize=function(b,e,f,d){var c={};if(!b)return c;e||(e="&");
b=b.split(e);for(e=0;e<b.length;e++){var j=b[e],l=j.indexOf("=");if(-1==l){var h=f?j.toLowerCase():j;c[h]="1"}else{h=j.substr(0,l);f&&(h=h.toLowerCase());j=j.substr(l+1).replace(/\+/g," ");try{c[h]=d?unescape(j):a.utils.URL.URLDecode(j)}catch(p){c[h]=unescape(j)}}}return c}})(d.keyValue||(d.keyValue={}));(function(b){b._nextZIndex=999999999;b._popupContainers=[];b._pseudoContainers=[];var d=null;b.addEventListener=function(a,f,b){a&&b&&(window.addEventListener?a.addEventListener(f,b,!0):a.attachEvent("on"+
f,b))};b.removeEventListener=function(a,f,b){b&&(window.removeEventListener?a.removeEventListener(f,b,!0):a.detachEvent("on"+f,b))};b.addDialogBackListener=function(e){a.utils.DOM._removeDialogBackListener();d=function(f){f&&(f.newURL&&-1==f.newURL.indexOf("|gigyaMobileDialog"))&&(e(f),a.utils.DOM._removeDialogBackListener())};window.setTimeout(function(){-1==window.location.hash.indexOf("|gigyaMobileDialog")&&(window.location.hash+="|gigyaMobileDialog");a.utils.DOM.addEventListener(window,"hashchange",
d)},50)};b._removeDialogBackListener=function(){d&&(a.utils.DOM.removeEventListener(window,"hashchange",d),d=null,window.location.hash=window.location.hash.replace("|gigyaMobileDialog",""))};b.appendToBody=function(a){document.body&&(document.body.insertBefore&&document.body.firstChild?document.body.insertBefore(a,document.body.firstChild):document.body.appendChild(a))};b.removeElement=function(a){a&&a.parentElement&&a.parentElement.removeChild(a)};b.isChildOf=function(a,f){for(var b=a.parentNode;b;){if(f==
b)return!0;b=b.parentNode}return!1};b.isVisible=function(e){if(!e||!e.parentNode||e.style&&"none"==e.style.display)return!1;if(e.parentNode)return a.utils.DOM.isVisible(e.parentNode)};b.getCenteredDivID=function(e){return"gig_"+a.localInfo.initTime.getTime().toString()+"_"+e};b.createTopLevelDiv=function(e){var f;f=document.createElement("iframe");f.id="gigya_ifr_"+e;f.frameborder="0";f.frameBorder="0";f.allowtransparency=!0;f.style.position="absolute";f.style.width=a.localInfo.isChrome?"30px":"1px";
f.style.height="1px";null!=f.style.zIndex&&(f.style.zIndex=a.utils.DOM._nextZIndex++);a.localInfo.isIE6&&(f.src=a.thisScript.base+"/gs/blank.htm");var b=document.createElement("div");b.style.position="absolute";null!=b.style.zIndex&&(b.style.zIndex=""+a.utils.DOM._nextZIndex++);b.innerHTML="";e&&(b.id=e);document.body&&document.body.insertBefore&&(document.body.firstChild?(null!=f&&document.body.insertBefore(f,document.body.firstChild),document.body.insertBefore(b,document.body.firstChild)):document.body.appendChild&&
(null!=f&&document.body.appendChild(f),document.body.appendChild(b)));return b};b.hideByID=function(a){if(a=document.getElementById(a))a.style.display="none"};b.showByID=function(e){if(e=document.getElementById(e))e.style.display=a.localInfo.isIE6?"TD"==e.tagName?"table-cell":"TR"==e.tagName?"":"TABLE"==e.tagName?"":"block":""};b.clearByID=function(a){try{var f=document.getElementById(a);null!=f&&(f.innerHTML="")}catch(b){}};b.getHTMLSize=function(a,f){var b=document.createElement("div");b.style.position=
"absolute";b.style.left="-1000px";b.innerHTML=a;f.appendChild(b);var d=b.offsetWidth,g=b.offsetHeight;b.parentNode.removeChild(b);return{w:d,h:g}};b.getElementsByClass=function(a,f){if(!a)return[];for(var b=[],d=a.getElementsByTagName("*"),g=0;g<d.length;g++){var c=d[g].className;if(c)for(var c=c.split(" "),h=0;h<c.length;h++)c[h]==f&&b.push(d[g])}return b||[]};b.getElementsByAttribute=function(a,f,b,d){for(var g=[],a=a.getElementsByTagName(f),f=0;f<a.length;f++)a[f].getAttribute(b)==d&&g.push(a[f]);
return g};b.getElementPosition=function(a){if(!a)return{left:0,top:0,bottom:0,right:0};var f=0,b=0,d=a.offsetHeight,g=a.offsetWidth;if(a.offsetParent){do b+=a.offsetLeft,f+=a.offsetTop;while(a=a.offsetParent)}return{left:b,top:f,bottom:f+d,right:b+g}};b.addClassToElement=function(a,f){if(a){for(var b=!1,d=a.className.split(" "),g=0;g<d.length;g++)if(d[g]==f){b=!0;break}b||(d.push(f),a.className=d.join(" "))}};b.removeClassFromElement=function(a,f){if(a){for(var b=a.className.split(" "),d=b.length-
1;0<=d;d--)b[d]==f&&b.splice(d,1);a.className=b.join(" ")}};b.isElementClass=function(a,f){if(a){for(var b=!1,d=a.className.split(" "),g=0;g<d.length;g++)if(d[g]==f){b=!0;break}return b}};b.cancelEvent=function(a){a&&("cancelable"in a?a.preventDefault():a.returnValue=!1)};b.createElement=function(a,f){var b=document.createElement("div"),f=f||"";b.innerHTML="<"+a+' name="'+f+'" id="'+f+'"></'+a+">";return b.firstChild};b.setSize=function(e,f,b,d){if(!(null==e||null==e.style)){var g=""+(0<(""+f).indexOf("%")?
f:f+"px"),c=""+(0<(""+f).indexOf("%")?b:b+"px");if(e.style.width!=g||e.style.height!=c)if(void 0!=f&&!isNaN(f)&&(e.style.width=g),void 0!=b&&!isNaN(b))e.style.height=c;if(d&&f&&b){if(null==e.style.zIndex||d)e.style.zIndex=this._nextZIndex++;d=h.getInnerSize();g=a.utils.viewport.getScroll();c=g.left;e.style.top=""+Math.max(0,g.top+Math.floor((d.h-b)/2))+"px";e.style.left=""+Math.max(0,c+Math.floor((d.w-f)/2))+"px";e.style.visibility=""}}}})(d.DOM||(d.DOM={}));(function(b){function d(e){var e=a.utils.object.clone(e),
b=function(){var b=e.data.split("="),d=c[b[0]];if(null!=d){if("function"==typeof d.callback){var g=unescape(b[1]),g=a.utils.keyValue.deserialize(g,null,null,!0);d.callback(g,d.context)}f(b[0]);(b=document.getElementById(b[0]))&&b.parentElement&&b.parentElement.removeChild(b)}};e&&(e.data&&e.data.split)&&(6<=a.localInfo.iosVersion?b():window.setTimeout(b,100))}function e(e){var b=document.createElement("iframe");b.style.width="30px";b.style.height="10px";b.style.position="absolute";b.style.top="-1000px";
b.style.left="-1000px";b.id=e;b.src="https://cdns.gigya.com/gs/LocalStorageListener.htm?mode=receive&id="+encodeURIComponent(e);a.utils.DOM.appendToBody(b);return b}function f(a){delete c[a]}var c={};b._flashListenerID="flid"+(new Date).getTime();var h=!1,j={};b._onFlashMessage=function(e){var e=a.utils.keyValue.deserialize(e,null,null,!0),b=e.id,d=c[b];null!=d&&("function"==typeof d.callback&&d.callback(e,d.context),f(b))};b.addMessageListener=function(f,m,p,n){c[f]={callback:n,context:m,t:(new Date).getTime()};
n=a.localInfo.messagingMethod;if(n==a._.MessagingMethod.LocalStorageListener||n==a._.MessagingMethod.PostMessage)n==a._.MessagingMethod.LocalStorageListener&&p&&e(f),h||(f=function(a){var e=a.data.split("=")[0];c[e]&&d(a)},window.addEventListener?window.addEventListener("message",f,!1):window.attachEvent&&window.attachEvent("onmessage",f),h=!0);else{var q="localstorage";m&&(m.c&&m.c.legacyCrossSiteMethod&&"localstorage"!=m.c.legacyCrossSiteMethod.toLowerCase())&&(q=m.c.legacyCrossSiteMethod);j[q]||
window.setTimeout(function(){var e=document.createElement("div");e.style.width="1px";e.style.height="1px";e.style.overflow="hidden";e.style.position="absolute";e.style.left="-1000px";var f=b._flashListenerID;q!="localstorage"&&(f=m.c.legacyCrossSiteMethod+":"+b._flashListenerID);var d=document.location.protocol+"//"+document.location.href.split("?")[0].split("#")[0].split("/")[2],g=(new Date).getTime(),c=document.createElement("object");c.setAttribute("id","eventsBroadcaster"+g);c.setAttribute("codebase",
"https://download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=9,0,0,0");c.setAttribute("width","50");c.setAttribute("height","50");c.setAttribute("src","https://cdns.gigya.com/GS/swf/eventsBroadcaster2.swf");g=document.createElement("param");g.name="movie";g.setAttribute("value","https://cdns.gigya.com/GS/swf/eventsBroadcaster2.swf");c.appendChild(g);g=document.createElement("param");g.setAttribute("name","allowScriptAccess");g.setAttribute("value","always");c.appendChild(g);g=document.createElement("param");
g.setAttribute("name","FlashVars");g.setAttribute("value","action=listen&id="+f+"&eventName=loginComplete&callback=gigya.utils.xd._onFlashMessage&domain="+d);c.appendChild(g);e.appendChild(c);a.utils.functions.invokeOnPageLoad(function(){a.utils.DOM.appendToBody(e);c.setAttribute("type","application/x-shockwave-flash");c.setAttribute("classid","clsid:d27cdb6e-ae6d-11cf-96b8-444553540000")});j[q]=true},500)}};b.removeMessageListener=f})(d.xd||(d.xd={}));(function(b){var d={};b.load=function(e,b,c,
h){h&&d[e]?d[e].loaded?c&&c():(d[e].onLoad.push(c),d[e].onError.push(b)):(h=function(){var h=document.createElement("script");h.async=!0;h.type="text/javascript";h.charset="UTF-8";d[e]||(d[e]={loaded:!1,onLoad:[c],onError:[b]});var k=d[e],m=!1,p=function(){if(!m){d[e].loaded=!0;for(var a=0;a<k.onLoad.length;a++)if("function"==typeof k.onLoad[a])k.onLoad[a]();m=!0;setTimeout(function(){h.parentNode&&h.parentNode.removeChild(h)},5E3)}};h.onload=p;h.onreadystatechange=function(){"loaded"==this.readyState&&
p()};h.onerror=function(){for(var a=0;a<k.onError.length;a++)if("function"==typeof k.onError[a])k.onError[a]();delete d[e]};var n=document.getElementsByTagName("head");n&&0<n.length&&n[0].appendChild(h);n=function(){h.src=e};6<=a.localInfo.iosVersion?n():setTimeout(n,1)},a.localInfo.isIE?a.utils.functions.invokeOnPageLoad(h):h())}})(d.script||(d.script={}));(function(b){b.set=function(b,e){if(window.sessionStorage){var f;try{(f=a.utils.JSON.deserialize(window.sessionStorage.getItem("gigyaCache")))||
(f={}),null==e&&f[b]?delete f[b]:f[b]={response:e,time:(new Date).getTime()},window.sessionStorage.setItem("gigyaCache",a.utils.JSON.serialize(f))}catch(d){}a.utils.queue.release("cache","cache_"+b)}};b.get=function(b,e,f){if(window.sessionStorage)try{if(!a.utils.queue.isActive("cache_"+b)){var d=window.sessionStorage.getItem("gigyaCache"),c=a.utils.JSON.deserialize(d),h=c?c[b]:null;if(h){if(e&&e+h.time>(new Date).getTime()){f(h.response);return}a.utils.sessionCache.remove(b);h=null}if(!h){a.utils.queue.hold("cache",
"cache_"+b);f(null);return}}a.utils.queue.isActive("cache_"+b)&&a.utils.queue.waitFor("cache_"+b,a.utils.sessionCache.get,arguments)}catch(l){f(null)}else"function"==typeof f&&f(null)};b.remove=function(b){a.utils.sessionCache.set(b,null)}})(d.sessionCache||(d.sessionCache={}));(function(a){a.format=function(a){for(var e=0;e<arguments.length-1;e++);for(e=0;e<arguments.length-1;e++)null!=arguments[e+1]&&(a=a.split("{"+e+"}").join(arguments[e+1]));return a};a.capitalize=function(a){return a.substring(0,
1).toUpperCase()+a.substring(1)}})(d.stringUtils||(d.stringUtils={}));(function(b){var d=null;b.isModern=function(){return a.localInfo.isChrome||a.localInfo.isFF||a.localInfo.isOpera||a.localInfo.isIOSWebView||a.localInfo.isIE&&9<=a.utils.browser.getVersion()||a.localInfo.isSafari&&4<=a.utils.browser.getVersion()||a.localInfo.isAndroid&&4<=a.localInfo.androidVersion};b.getVersion=function(){if(d)return d;try{var a=c.match(/(opera|chrome|safari|firefox|msie|trident.*rv:)\/?\s*(\.?\d+(\.\d+)*)/i);if(a[2]){var b=
a[2].split(".")[0];if(!isNaN(parseInt(b)))return d=parseInt(b)}}catch(i){}return 0}})(d.browser||(d.browser={}));(function(b){function d(a){if(!e[a])return!1;var b=0,c;for(c in e[a].ids)b++;return 0<b}var e={};b.isActive=d;b.release=function(a,b){if(e[b]&&(delete e[b].ids[a],!d(b))){var c=e[b].q;for(e[b].q=[];0<c.length;){var h=c.splice(0,1)[0];h.func.apply(this,h.args);if(d(b)){e[b].q=c;break}}}};b.hold=function(a,b){e[b]||(e[b]={q:[],ids:{}});e[b].ids[a]=!0};b.waitFor=function(a,b,d){e[a]||(e[a]=
{q:[],ids:{}});e[a].q.push({func:b,args:d})};b.queueForExecution=function(e,b,d){d=d||[];a.utils.queue.isActive(e)?a.utils.queue.waitFor(e,b,d):b.apply(this,d)}})(d.queue||(d.queue={}))})(a.utils||(a.utils={}))})(gigya||(gigya={}));(function(a){a.global={};a.socialize={};a.gcs={};a.gm={};a.comments={};a.accounts={};a.chat={}})(gigya||(gigya={}));
(function(a){(function(c){var d={};c.getApi=function(a){return d[a]};var h=function(){function b(a,e){this.methodName=a;this.settings=e;this.addAlias();d[a]=this}b.prototype.run=function(){};b.prototype.preprocessRequest=function(a,e){this.settings.preprocessor?this.settings.preprocessor(a,e):e()};b.prototype.addAlias=function(){var b=this;a.utils.functions.createAlias("gigya."+this.methodName,function(){var e=a.utils.object.merge([arguments]),f=function(){var f=a.utils.object.merge([a.thisScript.globalConf,
e]);b.run(f)};e.ignoreApiQueue?f():a.utils.queue.queueForExecution("API",function(){f()})})};return b}();c.BaseApi=h})(a._||(a._={}))})(gigya||(gigya={}));(function(a){a.defaultEventMaps=a.defaultEventMaps||[]})(gigya||(gigya={}));
(function(a){(function(c){(function(d){var c={},b={};d._activeNamespaces={};d.add=function(d,e,f,i,k){k||(k="socialize");d=k+"_"+d;f||(f="other");c[d]||(c[d]=[]);c[d].push({handler:e,type:f,context:i});!this._activeNamespaces[k]&&a._.apiAdapter&&a._.apiAdapter.registerForNamespaceEvents(k);this._activeNamespaces[k]=1;if((e=b[d])&&"other"==f){b[d]=[];for(f=0;f<e.length;f++)i=e[f],a.events.global.dispatch(i.eventObj,i.params)}};d.remove=function(){};d.dispatch=function(b,e){var f=b.isInternal,d=b.eventName.split(",");
a.log.addLog('Dispatching global event "'+b.eventName+'" with this event object',b);for(var k=0;k<d.length;k++){var j=d[k].split("."),l=1<j.length?j.shift():"socialize",m=j[0],j="on"+m.substring(0,1).toUpperCase()+m.substring(1),p=a.utils.object.clone(c[l+"_"+j]);p||(p=[]);j=a.utils.object.clone(b);j.isGlobal=!0;j.eventName=m;e&&e.source&&(j.source=e.source);e&&e.sourceData&&(j.sourceData=e.sourceData);m=["component"];f||m.push("other");for(var n=0;n<m.length;n++)for(var q=m[n],o=0;o<p.length;o++){var s=
p[o];if(s.type==q){var r=a.utils.object.clone(j);null==r.context&&null!=s.context&&(r.context=s.context);null==r.context&&delete r.context;"component"!=q&&a._.handleSpecialFields(r);try{s.handler(r)}catch(u){a.log.addLog('Error while trying to invoke "'+b.eventName+'" global event handler',u)}}}f||a.events._dispatchFromMaps(j,!0);p=window.GenesisExchange_Gigya;m=window.gigya_omniture_conf;n=window.myOmnitureIntegrationFunc;!f&&("undefined"!=typeof p&&"undefined"!=typeof m&&"socialize"==l)&&((new p(m)).processAction(j),
"undefined"!=typeof n&&n(m,j))}};d.dispatchWhenHandlerAdded=function(a,e){"undefined"===typeof e&&(e={});var d=a.eventName.split("."),c=1<d.length?d.shift():"socialize",d=d[0],d="on"+d.substring(0,1).toUpperCase()+d.substring(1),c=c+"_"+d;b[c]||(b[c]=[]);b[c].push({eventObj:a,params:e})};d.getEventsForOperation=function(a){var e=[];-1!=a.toLowerCase().indexOf("login")?(this._activeNamespaces.socialize&&e.push("socialize.login"),this._activeNamespaces.accounts&&e.push("accounts.login")):-1!=a.toLowerCase().indexOf("addconnection")&&
this._activeNamespaces.socialize&&e.push("socialize.connectionAdded");return e.join(",")}})(c.global||(c.global={}));c.addMap=function(d){a.defaultEventMaps.splice(0,0,d)};c.dispatchErrorFromResponse=function(d,c,b){c||(c={});var g=c;g.response&&(g=g.response);c={eventName:"error",status:g.status?g.status:"FAIL",statusMessage:g.statusMessage?g.statusMessage:"General Server Error",errorMessage:g.errorMessage?g.errorMessage:"General Server Error",errorDetails:g.errorDetails?g.errorDetails:"",errorCode:g.errorCode?
g.errorCode:500001,response:c};a.utils.object.add(c,b);a.events.dispatchForWidget(c,d)};c.dispatchInvalidParamError=function(a,c){var b={eventName:"error"};"undefined"==typeof a[c]||null==a[c]?(b.errorCode=400002,b.errorMessage="Missing_required_parameter ("+c+")"):(b.errorCode=400006,b.errorMessage="Invalid_parameter_value ("+c+")");b.status=b.errorCode;b.statusMessage=b.errorMessage;this.dispatchForWidget(b,a)};c.dispatchForWidget=function(d,c){if(d&&d.eventName){var b=d.eventName;a.log.addLog('Dispatching widget event "'+
b+'" for '+c.lastSource+" with this event object",d);var g="on"+b.substring(0,1).toUpperCase()+b.substring(1);a._.handleSpecialFields(d);for(var e=d.eventName.split(","),f,i=0;i<e.length;i++){b=e[i];g="on"+b.substring(0,1).toUpperCase()+b.substring(1);c.context&&(d.context=c.context);c&&c.source&&(d.source=c.source);c&&c.sourceData&&(d.sourceData=c.sourceData);c&&c.containerID&&(d.sourceContainerID=c.containerID);try{"function"==typeof c[g]&&(f=c[g](d))}catch(k){}if(-1==b.indexOf("login")&&-1==b.indexOf("logout")&&
"connectionRemoved"!=b&&"connectionAdded"!=b){this._dispatchFromMaps(d);var b=window.GenesisExchange_Gigya,g=window.gigya_omniture_conf,j=window.myOmnitureIntegrationFunc;"undefined"!=typeof b&&"undefined"!=typeof g&&((new b(g)).processAction(d),"undefined"!=typeof j&&j(g,d))}}if(null!=f)return f}};c._dispatchFromMaps=function(d){for(var c=[],b=!1,g=0;g<a.defaultEventMaps.length;g++){for(var e=a.defaultEventMaps[g].eventMap,f=a.defaultEventMaps[g].defaultMethod,i=0;i<e.length;i++){var k=e[i],j=[];
k.args||(k.args=[]);for(var l=0;l<k.args.length;l++)"$event"==k.args[l]?j.push(d):j.push(a.utils.templates.fill(k.args[l],d));k.events.split(",");l=","+k.events.toLowerCase()+",";if(-1!=l.indexOf(",*,")||(-1!=l.indexOf(",on"+d.eventName.toLowerCase()+",")||-1!=l.indexOf(","+d.eventName.toLowerCase()+","))&&(!d.source&&!k.sources||!k.sources||-1!=k.sources.indexOf(d.source)))c.push(k),(k.method?k.method:f).apply(this,j),k.override&&(b=!0)}if(b)break}}})(a.events||(a.events={}))})(gigya||(gigya={}));
var __extends=this.__extends||function(a,c){function d(){this.constructor=a}for(var h in c)c.hasOwnProperty(h)&&(a[h]=c[h]);d.prototype=c.prototype;a.prototype=new d};
(function(a){(function(a){a.apiAdapter;var d=function(d){function b(a,e,b,c,k,j){"undefined"===typeof c&&(c={});"undefined"===typeof k&&(k={});d.call(this,a,c);this.schema=e;this.requiresSession=b;this.settings=c;this.adapterSettings=k;this.altSessionParams=j;k.requiresSession=b}__extends(b,d);b.prototype.run=function(b){d.prototype.run.call(this,b);(new a.ServerApiRequest(this,b)).start()};return b}(a.BaseApi);a.ServerApi=d})(a._||(a._={}))})(gigya||(gigya={}));
(function(a){(function(c){function d(){return a.utils.object.clone({status:"OK",statusMessage:"",errorCode:0,statusCode:0,errorMessage:"",errorDetails:"",statusReason:""})}var h;a.events.global.add("onFBCRefreshed",function(){h=!1},"component");var b=function(){function b(e,d){this.api=e;this.params=a.utils.object.clone(d);this.originalParams=a.utils.object.clone(d);this.callback=d.callback}b.prototype.start=function(){var e=this;c.apiAdapter.isSessionValid(this.params,function(b){e.api.adapterSettings.requiresSession&&
!b&&!e.doesHaveAltSessionParam()?e.afterServerApiResponse(a.utils.object.clone({status:"FAIL",errorMessage:"Unauthorized user",statusMessage:"Unauthorized user",errorCode:403005}),!1):e.sendRequest(b)})};b.prototype.sendRequest=function(e){var b=this,d=a.utils.object.merge([this.api.adapterSettings,{cacheTimeout:this.params.cacheTimeout}]);this.beforeRequest(e,function(g){g?b.afterServerApiResponse(g,e):(a.events.global.dispatch({eventName:"beforeRequest",methodName:b.api.methodName,rawParams:b.originalParams,
params:b.params},b.originalParams),b.api.settings.oauth?c.apiAdapter.sendOauthRequest(b.api.methodName,b.params,function(a){b.afterServerApiResponse(a,e)},d):c.apiAdapter.sendRequest(b.api.methodName,b.params,function(a){b.afterServerApiResponse(a,e)},d))})};b.prototype.beforeRequest=function(b,f){var c=this;a.external.backplane.isLoaded()&&!a.external.backplane._ready&&a._.loginMethods[this.api.methodName]?a.external.backplane.executeOnInit(function(){c.beforeRequest(b,f)}):(-1!=this.api.methodName.indexOf(".logout")&&
(!b&&!this.params.regToken||a.partnerSettings.ssoLogoutUrl&&document.location.href==a.partnerSettings.ssoLogoutUrl)&&f(d()),this.handleDeprecatedParams(),this.handleCollections(),this.handleConnectWithoutLoginBehavior(b),this.params.extraPermissions=this.params[this.params.provider+"ExtraPermissions"]||this.params.permissions,this.api.preprocessRequest(this.params,function(){c.setOverridableParams(function(){c.setNonOverridableParams(b,function(){c.filterParams(c.params);a.log.logCall(c.api.methodName,
c.originalParams,c.originalParams.lastSource);f()})})}))};b.prototype.setOverridableParams=function(b){a.utils.object.merge([{},this.params]);b()};b.prototype.doesHaveAltSessionParam=function(){if(this.api.altSessionParams){for(var a=this.api.altSessionParams.split("|"),b=0;b<a.length;b++)if(this.params[a[b]])return!0;return!1}};b.prototype.setNonOverridableParams=function(b,d){if(null!=this.params.APIKey){var c=a.utils.cookie.get("gltexp_"+this.params.APIKey);null!=c&&(this.params.loginTokenExp=
c)}if((c=a.utils.cookie.get("_gigRefUid_"+this.params.APIKey))&&(b||a._.loginMethods[this.api.methodName]))this.params.refUID=c;if(a.fbAppID&&!h){var c=a.external.facebook.getParams(),g;for(g in c)this.params[g]=c[g];h=!0}0==this.api.methodName.indexOf("accounts.")&&(a.events.global._activeNamespaces.socialize&&null==this.params.includeUserInfo&&(this.params.includeUserInfo=!0),this.params.include=this.params.include?this.params.include+",":"profile,data");"accounts.getSchema"==this.api.methodName&&
(this.params.includeDynamicSchema="clientOnly");(g=a.external.backplane.getChannelId())&&(this.params.bp_channel_url=g);this.params.targetEnv="jssdk";d()};b.prototype.handleDeprecatedParams=function(){this.params.pendingRegistration?this.params.pending_registration=this.params.pendingRegistration:this.params.newUsersPendingRegistration&&(this.params.pending_registration=this.params.newUsersPendingRegistration);!0==this.params.alwaysForceAuthentication&&(this.params.forceAuthentication=!0);this.params.timestamp&&
(this.params.UIDTimestamp=this.params.timestamp,delete this.params.timestamp);this.params.signature&&0==this.api.methodName.indexOf("socialize.")&&(this.params.UIDSig=this.params.signature,delete this.params.signature);this.params.nonce&&(this.params.UIDNonce=this.params.nonce,delete this.params.nonce);this.params.format&&!this.params.dataFormat&&(this.params.dataFormat=this.params.format,delete this.params.format)};b.prototype.handleCollections=function(){this.params.recipients&&(this.params.recipients=
this.extractListOfGIGUIDs(this.params.recipients));if(this.params.friends){var a=this.extractListOfGIGUIDs(this.params.friends);0<this.params.UIDs.length&&(this.params.UIDs+=",");this.params.UIDs+=a}};b.prototype.extractListOfGIGUIDs=function(b){switch(typeof b){case "string":return b;case "object":if("undefined"!=typeof b.UID)return b.UID;if(b instanceof a.socialize.Collection){var d=[];b.each(function(a){a=this.extractListOfGIGUIDs(a);null!=a&&""!=a&&d.push(a)});return d.join(",")}}};b.prototype.handleConnectWithoutLoginBehavior=
function(b){if("socialize.addConnection"==this.api.methodName){var d=this.params.connectWithoutLoginBehavior;d&&(d=d.toLowerCase());"loginexistinguser"==d&&(this.params.loginIfExists=!0);b||(this.api=a._.getApi("socialize.login"),"alwayslogin"!=d&&(this.params.temporary_account=!0))}};b.prototype.filterParams=function(b){this.params=a.utils.object.extractProperties(b,{},this.getFullSchema())};b.prototype.getFullSchema=function(){if(null==this.api.schema)return"";for(var b=(this.api.schema+"|"+a._.defaultApiSchema).split("|"),
d=0;d<b.length;d++){var c=b[d];if(-1!=c.toLowerCase().indexOf("[providercapability=")){for(var g=c.toLowerCase().split("=")[1].split("]")[0],c=c.split("]")[1],g=a.socialize.getProvidersForRequiredCapabilities(a.socialize.getProvidersByName("*"),[g]),h=[],l=0;l<g.length;l++)h.push(g[l].name+c);b[d]=h.join("|")}}return b.join("|")};b.prototype.preprocessServerResponse=function(b){b.userInfo&&0!=this.api.methodName.indexOf("accounts.")&&("string"==typeof b.userInfo&&(b.userInfo=a.utils.JSON.deserialize(b.userInfo)),
b.userInfo&&(b=a.utils.object.merge([b.userInfo,b]),b.errorCode=b.userInfo.errorCode,delete b.userInfo));b.accountInfo&&"string"==typeof b.accountInfo&&(b.accountInfo=a.utils.JSON.deserialize(b.accountInfo),b.accountInfo&&(b=a.utils.object.merge([b.accountInfo,b]),delete b.accountInfo));try{b.settings&&"string"==typeof b.settings&&(b.settings=a.utils.JSON.deserialize(b.settings))}catch(d){}return b};b.prototype.onAfterLogoutMethod=function(){a.external.backplane.resetChannel()};b.prototype.getExpiredSessionResponse=
function(b){switch(this.api.methodName){case "socialize.setUserSettings":this.originalParams.disableLocalSettings||(a._.setGigyaSettings(this.params.group,this.params.settings),b=d());break;case "socialize.delUserSettings":this.originalParams.disableLocalSettings||(a._.delGigyaSettings(this.params.group,this.params.settings),b=d());break;case "socialize.getUserSettings":if(!this.originalParams.disableLocalSettings){var c=a._.getGigyaSettings(this.params.group),b=d();b.settings=c}break;case "socialize.getUserInfo":b.status=
"OK";b.statusMessage="";b.errorCode=0;b.statusCode=0;b.errorMessage="";b.errorDetails="";b.statusReason="";b.user=new a.socialize.User;break;case "accounts.logout":case "socialize.logout":b=d()}return b};b.prototype.afterServerApiResponse=function(b,d){var c=this;a._.checkCompleteRegistration(b,this.originalParams,function(g,h,l){b=g;b=c.preprocessServerResponse(b);if(a._.logoutMethods[c.api.methodName]&&0==b.errorCode)c.onAfterLogoutMethod();403005==b.errorCode&&(b=c.getExpiredSessionResponse(b));
0==b.errorCode&&(d||a._.loginMethods[c.api.methodName])&&a.utils.cookie.remove("_gigRefUid_"+c.originalParams.APIKey);c.handleMethodResponse(b,function(g){b=g;c.addDefaultResponseProperties(b);a._.handleSpecialFields(b);c.logoutFromProvidersIfNeeded(b,function(){h||c.generateEventsFromResponse(b,d);l?c.sendRequest(d):(a.events.global.dispatch({eventName:"afterResponse",methodName:c.api.methodName,filteredParams:c.params,response:b},c.originalParams),"function"==typeof c.callback&&(a.log.addLog("Calling callback for "+
c.api.methodName+" with this response object",b),c.callback(b)),c.api.settings.postprocessor&&c.api.settings.postprocessor(c.originalParams,b))})})})};b.prototype.addDefaultResponseProperties=function(a){delete a.statusCode;delete a.statusReason;a.errorCode=a.errorCode||0;a.status=a.status||(0==a.errorCode?"OK":"FAIL");a.errorMessage=a.errorMessage||"";a.statusMessage=a.statusMessage||a.errorMessage;a.requestParams=this.originalParams;a.requestParams.password&&delete a.requestParams.password;a.context=
this.originalParams.context;var b=this.api.methodName.split(".")[0];a.operation="socialize"==b?this.api.methodName.split(".")[1]:"/"+this.api.methodName};b.prototype.handleMethodResponse=function(b,d){if(0==b.errorCode)switch(this.api.methodName){case "socialize.postComment":if(b.comment)try{b.comment=a.utils.JSON.deserialize(b.comment)}catch(c){}break;case "gm.getTopUsers":if(a.localInfo.isIE)for(var g=0;g<b.users.length;g++){var h=b.users[g];h.photoURL&&-1!=h.photoURL.indexOf("apis.live.net")&&
(h.photoURL=h.photoURL.replace("https://apis.live.net",document.location.protocol+"//msnproxy.gigya.com"))}break;case "accounts.socialLogin":case "socialize.login":b.newUser=b.x_newUser?!0:!1,delete b.x_newUser;case "socialize.notifyLogin":case "socialize.addConnection":case "accounts.linkAccounts":case "accounts.finalizeRegistration":case "accounts.login":case "accounts.register":case "socialize.getUserInfo":delete b.login_token;delete b.expires_in;b.code&&(b.authCode=b.code,delete b.code);if(!b.authCode&&
!("socialize.notifyLogin"==this.api.methodName&&this.params.authCode)&&(h=b,b.userInfo&&(h=b.userInfo,delete b.userInfo),-1==this.api.methodName.indexOf("accounts.")?(b={user:h},a.utils.object.extractProperties(h,b,"status|statusMessage|callId|errorCode|errorMessage|errorDetails|settings|context|UIDSig|timestamp|UIDSignature|signatureTimestamp|UID|profile|data|newUser"),b.user.hasOwnProperty("UIDSig")&&(b.signature=b.user.UIDSig),h.profile&&delete h.profile,h.data&&delete h.data,delete h.status,delete h.statusMessage,
delete h.callId,delete h.errorCode,delete h.errorMessage,delete h.errorDetails,delete h.settings,delete h.context):b!=h&&(b.user=h),""!=h.age&&!isNaN(parseInt(h.age))&&(h.age=parseInt(h.age)),h.suppressEvents&&(b.suppressEvents=!0),"string"==typeof h.capabilities&&((g=h.capabilities)||(g=""),"object"!=typeof h.capabilities&&(h.capabilities={}),g=g.toLowerCase(),h.capabilities={actions:-1<g.indexOf("actions"),friends:-1<g.indexOf("friends"),login:-1<g.indexOf("login"),status:-1<g.indexOf("status"),
notifications:-1<g.indexOf("notifications"),contacts:-1<g.indexOf("contacts"),photos:-1<g.indexOf("photos")}),a._.convertIdentitiesArrayToObject(h),"string"==typeof h.providers&&(h.providers=h.providers.split(",")),this.params.group&&!b.settings))g=a._.getGigyaSettings(this.params.group),b.settings=g;break;case "socialize.getAvailableProviders":h={};for(g=0;g<b.availableProviders.length;g++)h[b.availableProviders[g].name]=b.availableProviders[g];b.availableProviders=h}"socialize.removeConnection"==
this.api.methodName&&0==b.errorCode?a.socialize.getUserInfo(this.originalParams,{callback:function(a){d(a)}}):d(b)};b.prototype.logoutFromProvidersIfNeeded=function(b,d){var c;b.connectedProviders?c=b.connectedProviders.toLowerCase():b.provider&&(c=b.provider.toLowerCase());if(a._.logoutMethods[this.api.methodName]&&c&&!a.utils.validation.isExplicitFalse(this.originalParams.forceProvidersLogout)){var g=c.split(","),h=0,l=!1,m=function(){l||d();l=!0};window.setTimeout(m,5E3);for(c=0;c<g.length;c++)this.logoutFromProvider(g[c],
function(){h++;h==g.length&&m()})}else d()};b.prototype.logoutFromProvider=function(b,d){var c="",g=!1;switch(b){case "facebook":if(a.fbAppID){a.socialize.waitForService({service:"facebook",callback:function(){a.external.facebook.isLoggedIn&&FB.logout?FB.logout(function(){a.external.facebook.refreshSession();d()}):d()}});return}break;case "yahoo":c="https://login.yahoo.com/config/login?.src=fpctx&amp;logout=1&r=";break;case "google":c="https"==a.thisScript.protocol?"https://google.com/accounts/Logout?r=1":
"https://www.google.com/accounts/Logout?r=",g=!0}if(c){var c=c+(new Date).getTime(),h;if(g){var l=document.createElement("iframe");l.style.width="30px";l.style.height="10px";l.style.position="absolute";l.style.top="-1000px";l.style.left="-1000px";h=function(a){var b;b=a&&a.srcElement?a.srcElement:a&&a.target?a.target:this;!b.loaded&&b.parentNode&&(b.loaded=!0,d(),window.setTimeout(function(){try{document.body.removeChild(b)}catch(a){}},5E3))};l.addEventListener?(l.addEventListener("load",h,!1),l.addEventListener("error",
h,!1)):l.attachEvent&&(l.attachEvent("onload",h),l.attachEvent("onerror",h),l.onerror=l.onload=l.onreadystatechange=function(a){(!l.readyState||"loaded"==l.readyState||"complete"==l.readyState)&&h(a)},l.onerror=h);l.src=c;a.utils.DOM.appendToBody(l)}else g=new Image,h=function(){this.loaded||(this.loaded=!0,d())},g.onload=h,g.onerror=h,g.src=c}else d()};b.prototype.generateEventsFromResponse=function(b,d){var c=this,g;if(0==b.errorCode)switch(this.api.methodName){case "accounts.logout":case "socialize.logout":case "socialize.unlinkAccounts":case "socialize.deleteAccount":g=
{eventName:"logout,accounts.logout"};break;case "socialize.linkAccounts":case "socialize.setUID":a._.addUserInfoToEvent(b,g,!0);break;case "socialize.removeConnection":g={eventName:"connectionRemoved,disconnect",provider:this.params.provider||""};a._.addUserInfoToEvent(b,g);break;case "socialize.addConnection":!d&&b.user.isLoggedIn?(g={eventName:"login",provider:this.params.provider},a._.addUserInfoToEvent(b,g,!0)):(g={eventName:"connectionAdded,connect",provider:this.params.provider},a._.addUserInfoToEvent(b,
g));break;case "accounts.linkAccounts":case "accounts.finalizeRegistration":case "accounts.login":case "accounts.register":case "accounts.socialLogin":this.dispatchAccountsLoginEvent(b);case "socialize.finalizeRegistration":case "socialize.register":case "socialize.login":if(!b.user&&!b.authCode)break;g={eventName:"login"};var h=this.params.provider;if(!h&&b.providerSessions)for(var l in b.providerSessions){h=l;break}g.provider=h||"site";b.authCode&&(g.authCode=b.authCode);a._.addUserInfoToEvent(b,
g,!0);b.user&&h&&(h=h.toLowerCase(),a.utils.cookie.set("_gig_llp",h),a.utils.cookie.set("_gig_llu",b.user.firstName||""));break;case "socialize.notifyLogin":this.params.authCode||(g||(g={eventName:"login"}),g.provider="site",a._.addUserInfoToEvent(b,g,!0));break;case "gm.notifyAction":a.events.global.dispatch({eventName:"actionNotified",isInternal:!0})}a._.loginMethods[this.api.methodName]&&(this.originalParams.redirectURL&&g&&g.user&&0==b.errorCode)&&a.utils.redirect(this.originalParams.redirectURL,
[g,g.user],this.originalParams.redirectMethod);0==b.errorCode&&(g&&"login"==g.eventName&&!b.profile&&a.events.global._activeNamespaces.accounts&&-1==this.api.methodName.indexOf("accounts"))&&a.accounts.getAccountInfo(this.originalParams,{include:"profile,data",includeUserInfo:!1,callback:function(a){c.dispatchAccountsLoginEvent(a)}});null!=g&&(g.context=this.originalParams.context,a.events.global.dispatch(g,this.originalParams))};b.prototype.dispatchAccountsLoginEvent=function(b){var d={eventName:"accounts.login",
remember:a.utils.validation.isExplicitTrue(this.originalParams.remember),provider:this.originalParams.provider?this.originalParams.provider.toLowerCase():""};a.utils.object.extractProperties(b,d,"signature|UIDSig|timestamp|UIDSignature|signatureTimestamp|UID|profile|data");a.events.global.dispatch(d,this.originalParams)};return b}();c.ServerApiRequest=b})(a._||(a._={}))})(gigya||(gigya={}));
(function(a){(function(c){var d,h={showReactionsBarUI:["barID"],showCommentsUI:["categoryID","streamID"],showFeedUI:["feedID"],showChatUI:["configID","streamID","chatID"]},b=function(b){function c(a,d,e,h,l,m){"undefined"===typeof e&&(e={});"undefined"===typeof h&&(h={});"undefined"===typeof l&&(l="");"undefined"===typeof m&&(m={});b.call(this,m.apiName||d.split(".")[0]+"."+a,m);this.methodName=a;this.jsName=d;this.settings=m;m.defaultParams=e||{};m.defaultPopupParams=h||{};m.requiredParams=l||""}
__extends(c,b);c.prototype.run=function(d){var c=this;b.prototype.run.call(this,d);d=a.utils.object.clone(d);this.preprocessRequest(d,function(){var b=c.getPluginJsUrl(d),e=d.containerID;if(c.settings.ignoreContainerId)e=d.containerID="";else if(null==d.containerID&&!c.settings.allowPopup||d.containerID&&!document.getElementById(d.containerID)){a.events.dispatchInvalidParamError(d,"containerID");return}d.source?d.isPopup=!1:c.setSourceData(d);var g=c.settings.allowPopup&&(!e||d.isPopup);c.setDefaultParams(d);
!c.settings.allowPopup&&!g&&a.utils.DOM.clearByID(e);if(c.validateRequiredParams(d)){c.settings.dontLoadPluginsCore||c.loadPluginsCore();a.utils.script.load(b,null,null,!0);var h=function(){c.prepareContainer(d,g,function(){c.startPlugin(d)})};a.utils.queue.queueForExecution("UI",function(){!1==d.waitForDebug?h():a.utils.queue.queueForExecution("debug",h)})}})};c.prototype.startPlugin=function(b){var d=this;a.utils.script.load(this.getPluginJsUrl(b),null,function(){a.events.global.dispatch({eventName:"beforePluginReqwuest",
methodName:d.methodName,params:b},b);a.log.logCall(d.methodName,b);a.reports.reportLoad(d.methodName,b);a.utils.functions.callFunction("gigya."+d.jsName+"."+d.methodName,[b,b,b])},!0)};c.prototype.setSourceData=function(a){a.source="socialize.showSimpleShareUI"==this.methodName?"socialize.showShareUI":this.methodName;if(!a.sourceData&&h[this.methodName]){for(var b={},d,c=0;c<h[this.methodName].length;c++){var e=h[this.methodName][c];null!=a[e]&&(d=!0,b[e]=a[e])}d&&(a.sourceData=b)}a.pluginsStack||
(a.pluginsStack=[]);a.pluginsStack.push({source:this.methodName});a.lastSource=this.methodName};c.prototype.loadPluginsCore=function(){d||(a.utils.queue.hold("pluginsJS","UI"),a.utils.script.load(a.thisScript.base+"/js/gigya.services.socialize.plugins.min.js",null,function(){d=!0;a.utils.queue.release("pluginsJS","UI")},!0))};c.prototype.getPluginJsUrl=function(b){var d=a.thisScript.base+"/js/gigya.services."+this.jsName+".min.js";b.lang&&(d+="?lang="+b.lang);return d};c.prototype.validateRequiredParams=
function(b){for(var d=this.settings.requiredParams.split("|"),c=0;c<d.length;c++){var e=d[c];if(""!=e&&(null==b[e]||""==b[e]))return a.events.dispatchInvalidParamError(b,e),!1}return!0};c.prototype.setDefaultParams=function(a){var b=!a.containerID||a.isPopup,d;for(d in this.settings.defaultParams)null==a[d]&&(a[d]=b&&this.settings.defaultPopupParams[d]?this.settings.defaultPopupParams[d]:this.settings.defaultParams[d]);if(b)for(d in this.settings.defaultPopupParams)a[d]||(a[d]=this.settings.defaultParams[d])};
c.prototype.prepareContainer=function(b,d,c){var e=this;if(document.body){var g=b.containerID;d&&(g=a.utils.DOM.getCenteredDivID(this.methodName),b.newPopup&&(g+=(new Date).getTime()),b.containerID=g,b.isPopup=!0,document.getElementById(g)||a.utils.DOM.createTopLevelDiv(g));var h=document.getElementById(g);h||(a.events.dispatchInvalidParamError(b,"containerID"),c());var p=this.getPluginJsUrl(b),n=h.Reqs?h.Reqs:h.Reqs=[],q=n.length+"@"+p+"@"+g;b.rid=q;n[n.length]={rid:q,servicedBy:p,container:h,method:this.methodName,
context:b.context,c:b,p:b,i:b,operation:this.methodName,isHTML:!0};if(h&&h.style){h.style.display="";h.style.visibility="";if(g=document.getElementById("gigya_ifr_"+g))g.style.display="",g.style.visibility="";null!=g&&(a.utils.DOM.setSize(g,b.width,b.height,d),g.style.visibility="visible");a.utils.DOM.setSize(h,b.width,b.height,d)}g=this.methodName.split(".").pop();h.setAttribute&&h.setAttribute("gigid",(b.source&&b.source!=g?b.source+"_":"")+g);c()}else window.setTimeout(function(){e.prepareContainer(b,
d,c)},200)};return c}(c.BaseApi);c.UiApi=b})(a._||(a._={}))})(gigya||(gigya={}));
(function(a){(function(c){(function(d){function c(b,d,e,f){d||(d="socialize");a[d]||(a[d]={});a[d].plugins||(a[d].plugins={});a[d].plugins[e]||(a[d].plugins[e]={instances:[]});var h=a[d].plugins[e];h[f]||(h[f]=function(a){a=new b(a,"gigya."+d+".plugins."+e+".instances["+h.instances.length+"]");h.instances.push(a)})}d.attachPlugin=c;a.utils.functions.createAlias("gigya.attachPlugin",c)})(c.UI||(c.UI={}))})(a._||(a._={}))})(gigya||(gigya={}));
(function(a){(function(){a.socialize.addEventHandlers=function(){for(var b=0;b<arguments.length-0;b++);var b=a.utils.object.merge([a.thisScript.globalConf,arguments]),d=b.namespace?b.namespace:"socialize",c;for(c in b)0==c.indexOf("on")&&a.events.global.add(c,b[c],b.listenerType,b.context,d);"function"==typeof b.callback&&b.callback({status:"OK",statusMessage:"",errorCode:0,errorMessage:"",operation:"addEventHandlers",context:b.context})};a.accounts.addEventHandlers=function(){for(var b=0;b<arguments.length-
0;b++);b=a.utils.object.merge([arguments,{namespace:"accounts"}]);a.socialize.addEventHandlers(b)};a.socialize.isLoggedIn=function(){var b=a.utils.object.merge([a.thisScript.globalConf,arguments]);a.socialize.getUserInfo(b,{callback:function(d){var c=d.user,c={loggedIn:c?a.utils.validation.isExplicitTrue(c.isLoggedIn):!1};a.utils.object.extractProperties(d,c,"status|statusMessage|callId|errorCode|errorMessage|errorDetails|context");b.callback&&b.callback(c)}})};a.socialize.waitForService=function(){var b=
a.utils.object.merge([a.thisScript.globalConf,arguments]),d=b.service;if(d&&(d=d.toLowerCase(),"fbconnect"==d||"facebook"==d))d=b.callback,a.external.facebook.isLoaded()?d({context:b.context}):a.socialize.addEventHandlers({listenerType:"component"},{onFacebookLoaded:d,context:b.context})};a.socialize._injectFBC=function(){a.utils.queue.queueForExecution("API",function(){a.utils.functions.invokeOnPageLoad(a.external.facebook.load)})};var c={facebook:{w:640,h:370},twitter:{w:880,h:585},messenger:{w:710,
h:905},linkedin:{w:560,h:500},yahoobookmarks:{w:840,h:975},digg:{w:1010,h:1045},delicious:{w:890,h:905},googlebookmarks:{w:710,h:905},mixi:{w:640,h:470},googleplus:{w:496,h:420}};a.socialize.postBookmark=function(){var b=a.utils.object.merge([a.thisScript.globalConf,arguments]);b.APIKey||(b.APIKey=a.thisScript.APIKey);var d={};a.utils.object.extractProperties([b],d,a._.postBookmarkSchema);d.sdk="js_"+a.build.version;if(!d.URL&&!d.url&&d.userAction&&!d.userAction.linkBack)for(var e=document.getElementsByTagName("meta"),
f=0;f<e.length;f++)if("og:url"==e[f].getAttribute("property")&&e[f].getAttribute("content")){d.URL=e[f].getAttribute("content");break}!d.URL&&(!d.url&&d.userAction&&!d.userAction.linkBack)&&(d.URL=document.location.href);delete d.context;d.provider||(d.provider="");d.providerKey||"facebook"==d.provider.toLowerCase()&&(d.providerKey=a.external.opengraph.getMetaTag("fb:app_id"));var e=a.utils.keyValue.serialize(d),f=c[d.provider.toLowerCase()],h=b.enablePopupLocation?"location=1,toolbar=1":null;f&&
(f.w&&f.h)&&(h=(b.enablePopupLocation?"location=1,toolbar=1,":"toolbar=0,")+"menubar=0,resizable=1,scrollbars=1,width="+f.w+",height="+f.h);a.log.logCall("postBookmark",d);a.utils.win.open(a.utils.stringUtils.format("https://socialize.{0}/gs/bookmark.aspx?{1}",a.partnerSettings.plugins.apiDomain,e),"gs_bookmark_"+d.provider,h)};a.socialize.refreshUI=function(){var b=a.utils.object.merge([a.thisScript.globalConf,arguments]),d=b.callback;a.socialize.getUserInfo(b,{callback:function(c){var f={eventName:"login",
isInternal:!0};b.provider&&(f.provider=b.provider);a._.addUserInfoToEvent(c,f,!0);b.context&&(f.context=b.context);a.events.global.dispatch(f);"function"==typeof d&&d(c)}})};var d={"digg.com":"digg","stumbleupon.com":"stumbleupon","delicious.com":"delicious","technorati.com":"technorati","t.co":"twitter","plus.url.google.com":"googlePlus","facebook.com":"facebook","linkedin.com":"linkedIn","pinterest.com":"pinterest"},h;a.socialize.trackReferrals=function(){var b=a.utils.object.merge([a.thisScript.globalConf,
arguments]),c={},e={};-1!=document.location.href.indexOf("#")&&(e=a.utils.keyValue.deserialize(document.location.href.split("#")[1]));-1!=document.location.href.indexOf("?")&&(c=a.utils.keyValue.deserialize(document.location.href.split("?")[1].split("#")[0]));e.guid&&"_"!=e.guid&&a.utils.cookie.set("_gigRefUid_"+b.APIKey,e.guid);var f=e._giguuid||c._giguuid;f&&a.utils.cookie.set("_gigRefUid_"+b.APIKey,f);if(!(null!=e._gus||null!=c._gus)){if(!h){var i,e={url:document.location.href,ref:document.referrer};
c.fb_ref?(i=a.utils.keyValue.deserialize(c.fb_ref,":"),e.uuid=i.uu,e.sn=i.p,i=i.s):document.referrer&&-1!=document.referrer.indexOf("://")&&(c=document.referrer.split("://")[1].split("/")[0],0==c.indexOf("www.")&&(c=c.split("www.")[1]),d[c]&&(e.sn=d[c]));if(!e.sn&&(!document.referrer||-1==document.referrer.indexOf("http://soc.li")&&-1==document.referrer.indexOf("https://shr.gs")))c=document.location.href.split("#guid="),1<c.length&&(c=c[1].split("#")[0].split("&")[0],c!=a._.apiAdapter.getTokenParam(b.APIKey,
"UUID")&&(e.sn="AddressBarShares",e.uuid=c,"_"==c&&delete e.uuid,document.location.replace("#"),a.reports.trackAddressBarShares(),e.url=document.location.href.split("#")[0]));e.uuid&&a.utils.cookie.set("_gigRefUid_"+b.APIKey,e.uuid);e.sn&&a.reports.report("linkback",b.APIKey,b.cid,i,null,e);h=!0}"function"==typeof b.callback&&b.callback({status:"OK",statusMessage:"",operation:"trackReferrals",context:b.context,errorMessage:"",errorCode:0})}};a.socialize.hideUI=function(){var b=a.utils.object.merge([a.thisScript.globalConf,
arguments]);"function"==typeof b.callback&&b.callback({status:"OK",statusMessage:"",operation:"hideUI",context:b.context,errorMessage:"",errorCode:0})};a.gcs.submitUserForm=function(){var b={},d=a.utils.object.merge([a.thisScript.globalConf,arguments]),c=document.getElementById(d.form);if(!c){var f=document.getElementsByName(d.form);f&&0<f.length&&(d.form=f[0])}for(f=0;f<c.elements.length;f++){var h=c.elements[f];if(h.name){for(var k=h.name.split("."),j=b,l=0;l<k.length-1;l++){var m=k[l];j[m]||(j[m]=
{});j=j[m]}j[k[k.length-1]]=h.value}}d.data=b;a.gcs.setUserData(d)};a.socialize.getProviderShareCounts=function(){var b=a.utils.object.merge([a.thisScript.globalConf,arguments]);a.utils.script.load(a.thisScript.base+"/js/gigya.services.socialize.plugins.shareCounts.min.js",null,function(){a.socialize.plugins.shareCounts.getProviderShareCounts(b)},!0)}})(a._||(a._={}))})(gigya||(gigya={}));
(function(a){(function(c){c.defaultApiSchema="APIKey|cid|oauth_token|source|sourceData|usePost|refUID|fb_UID|fb_at|fb_exp";c.defaultOauthSchema="temporary_account|authFlow|connectWithoutLogin|provider|redirectMethod|redirect_uri|pendingRegistration|lang|regSource|extraPermissions|sessionExpiration|forceAuthentication|includeiRank|includeAllIdentities|extraFields|enabledProviders|disabledProviders|signIDs|openIDUsername|openIDURL|openIDProviderLogo|openIDProviderName|finalizeRegistration|include|actionAttributes|profileAttributes|googlePlayAppID|bp_channel_url|loginIfExists|includeUserInfo|redirectURL|authCodeOnly|enablePopupLocation";
c.postBookmarkSchema="provider|URL|url|title|description|target|cid|APIKey|shortURLs|source|sourceData|providerKey|thumbnailURL|tags|userAction|[providerCapability=actions]UserAction|actionAttributes";c.loginMethods={"socialize.login":1,"socialize.addConnection":1,"socialize.notifyLogin":1,"socialize.linkAccounts":1,"accounts.login":1,"accounts.socialLogin":1,"accounts.linkAccounts":1,"accounts.register":1,"accounts.finalizeRegistration":1};c.logoutMethods={"socialize.logout":1,"accounts.logout":1,
"socialize.deleteAccount":1,"socialize.unlinkAccounts":1};c.arApiList=[new c.ServerApi("socialize.login",c.defaultOauthSchema,!1,{oauth:!0},{clearSession:!0,forceHttps:!0}),new c.ServerApi("socialize.addConnection",c.defaultOauthSchema,!1,{oauth:!0},{forceHttps:!0}),new c.ServerApi("socialize.requestPermissions",c.defaultOauthSchema,!1,{oauth:!0},{requiresSession:!0}),new c.ServerApi("accounts.socialLogin",c.defaultOauthSchema,!1,{oauth:!0},{clearSession:!0,forceHttps:!0}),new c.UiApi("showDebugUI",
"socialize.plugins.debug",{},{},"",{allowPopup:!0}),new c.UiApi("showRatingUI","comments.plugins.rating",{showReadReviewsLink:!0,showCommentButton:!0,includeRatingsDims:!0}),new c.UiApi("showCommentsUI","comments.plugins.comments",{width:500},{},"",{preprocessor:function(d,c){2==d.version&&a.utils.browser.isModern()?a.comments.showCommentsUI2(d):c()}}),new c.UiApi("showCommentsUI","comments.plugins.comments2",{width:500},{},"",{apiName:"comments.showCommentsUI2"}),new c.UiApi("showShareUI","socialize.plugins.share",
{width:520,height:320},{width:595,height:324},"userAction",{allowPopup:!0,preprocessor:function(d,h){var b=d.operationMode;b&&(b=b.toLowerCase().replace(/ /g,""));d.containerID||(delete d.width,delete d.height);c.apiAdapter.isSessionValid(d,function(c){b=="simpleshare"||b=="autodetect"&&!c?a.socialize.showSimpleShareUI(d):h()})}}),new c.UiApi("showLoginUI","socialize.plugins.login",{width:120,height:110},{width:280,height:220},"",{allowPopup:!0}),new c.UiApi("showAddConnectionsUI","socialize.plugins.login",
{width:110,height:65},{width:250,height:200},"",{allowPopup:!0}),new c.UiApi("showFriendSelectorUI","socialize.plugins.friendSelector",{width:400,height:360},{},"",{allowPopup:!0}),new c.UiApi("showFeedUI","socialize.plugins.newsfeed",{width:304,height:265}),new c.UiApi("showChatUI","chat.plugins.chat",{width:300,height:450},{},"",{preprocessor:function(a,c){a.site&&(a.categoryID=a.site);a.stream&&(a.streamID=a.stream);a.skin&&(a.skinID=a.skin);a.streamID=a.streamID||0;c()}}),new c.UiApi("showEditConnectionsUI",
"socialize.plugins.edit",{width:310,height:250},{width:310,height:310},"",{allowPopup:!0}),new c.UiApi("showShareBarUI","socialize.plugins.reactions",{shareCountCacheTimeout:3E5},{},"userAction|shareButtons"),new c.UiApi("showReactionsBarUI","socialize.plugins.reactions",{},{},"userAction|barID|reactions",{preprocessor:function(a,c){a.barID||(a.barID=a.itemID);c()}}),new c.UiApi("showMiniShareUI","socialize.plugins.minishare",{width:320,height:153},{},"",{allowPopup:!0}),new c.UiApi("showFollowBarUI",
"socialize.plugins.followbar",{},{},"buttons"),new c.UiApi("showBookmarkUI","socialize.plugins.bookmark",{width:310,height:250},{width:310,height:310}),new c.UiApi("showSimpleShareUI","socialize.plugins.simpleShare",{width:280,height:175},{},"userAction",{allowPopup:!0,dontLoadPluginsCore:!0}),new c.UiApi("showShareMobileUI","socialize.plugins.shareMobile",{},{},"userAction",{allowPopup:!0}),new c.UiApi("showUserStatusUI","gm.plugins.userStatus",{width:300,hidePoints:!1,hideActions:!1},{},"",{requireSession:!0}),
new c.UiApi("showAchievementsUI","gm.plugins.achievements",{width:300,height:100,excludeChallenges:"_default"}),new c.UiApi("showChallengeStatusUI","gm.plugins.achievements",{width:300,height:100,challenge:"_default"}),new c.UiApi("showLeaderboardUI","gm.plugins.leaderboard",{width:300},{},"",{preprocessor:function(a,c){a&&a.height&&(a.height=null);c()}}),new c.UiApi("showNotifications","gm.plugins.notifications",{},{},"",{preprocessor:function(d,c){var b=a.utils.localStorage.getObject("gmSettings");
if(!b||!b.disableNotifications)d.containerID="gigNotifications",document.getElementById(d.containerID)||(b=document.createElement("div"),b.id=d.containerID,b.style.position="absolute",b.style.left="-1000px",a.utils.DOM.appendToBody(b)),c()}}),new c.UiApi("showTfaUI","accounts.plugins.tfa",{width:325}),new c.UiApi("showScreenSet","accounts.plugins.screenSet",{},{},"",{allowPopup:!0}),new c.UiApi("hideScreenSet","accounts.plugins.screenSet",{},{},"",{allowPopup:!0}),new c.UiApi("switchScreen","accounts.plugins.screenSet",
{},{},"",{allowPopup:!0}),new c.ServerApi("socialize.getAvailableProviders","enabledProviders|disabledProviders|requiredCapabilities"),new c.ServerApi("socialize.notifyLogin","siteUID|UIDTimestamp|UIDSig|UIDNonce|provider|authToken|tokenSecret|regSource|tokenExpiration|sessionHandle|sessionHandleExpiration|userInfo|providerSessions|sessionExpiration|authCode|includeAllIdentitiesincludeiRank|group|settings|extraFields|signIDs|newUser|actionAttributes|profileAttributes|bp_channel_url",!1,void 0,{forceHttps:!0,
clearSession:!0}),new c.ServerApi("socialize.shortenURL","URL"),new c.ServerApi("socialize.convertAction","userAction|[providerCapability=actions]UserAction|provider"),new c.ServerApi("socialize.getReactionsCount","barID|buttonIDs|reportLoad"),new c.ServerApi("socialize.incrementReactionsCount","barID|buttonID|count|actionAttributes|profileAttributes"),new c.ServerApi("socialize.deleteAccount",void 0,!0),new c.ServerApi("socialize.delUserSettings","group|settings",!0),new c.ServerApi("socialize.getAlbums",
"type|enabledProviders|disabledProviders",!0),new c.ServerApi("socialize.getContacts","enabledProviders|disabledProviders",!0),new c.ServerApi("socialize.getFriendsInfo","enabledProviders|disabledProviders|detailLevel|UIDs|siteUsersOnly|requiredCapabilities|signIDs",!0),new c.ServerApi("socialize.getPhotos","enabledProviders|disabledProviders|albumIDs|tags",!0),new c.ServerApi("socialize.getRawData","provider|UID|fields|dataFormat",!0),new c.ServerApi("socialize.getSessionInfo","provider|paddingMode|encrypt|signIDs|encryptAll",
!0),new c.ServerApi("socialize.getUserInfo","enabledProviders|disabledProviders|signIDs|includeiRank|includeAllIdentities|extraFields|group|settings|includeOpenidUID",!0),new c.ServerApi("socialize.getUserSettings","group|settings|regToken",!0,void 0,{forceHttps:!0},"regToken"),new c.ServerApi("socialize.getPlaces","enabledProviders|disabledProviders|latitude|longitude|query|radius|unifyResults",!0),new c.ServerApi("socialize.checkin","enabledProviders|disabledProviders|placeID|comment|latitude|longitude|actionAttributes|profileAttributes",
!0),new c.ServerApi("socialize.logout","signIDs",!0,{preprocessor:function(d,c){if(a.partnerSettings.ssoKey)d.signIDs=true;c()}}),new c.ServerApi("socialize.notifyRegistration","siteUID|UIDTimestamp|UIDSig",!0),new c.ServerApi("socialize.publishUserAction","userAction|[providerCapability=actions]UserAction|enabledProviders|disabledProviders|target|shortURLs|scope|privacy|feedID|userLocation|tags|actionAttributes|profileAttributes",!0),new c.ServerApi("socialize.removeConnection","provider",!0),new c.ServerApi("socialize.sendNotification",
"recipients|body|subject|shortURLs|actionAttributes|profileAttributes",!0),new c.ServerApi("socialize.setStatus","shortURLs|status|[providerCapability=status]Status|enabledProviders|disabledProviders|userLocation|actionAttributes|profileAttributes",!0),new c.ServerApi("socialize.setUID","siteUID|UIDTimestamp|UIDSig",!0),new c.ServerApi("socialize.setUserSettings","group|settings|regToken",!0,void 0,{forceHttps:!0},"regToken"),new c.ServerApi("socialize.unlinkAccounts",void 0,!0),new c.ServerApi("socialize.getFeed",
"feedID|startTS|endTS|groups|limit|includeUID"),new c.ServerApi("socialize.sendEmail","dontSendEmail|companyName|lang|emails|emailSubject|emailBody|linkBack|senderEmail|senderName|userMsg|shortURLs|userAction|[providerCapability=actions]UserAction|actionAttributes|profileAttributes|captchaTicket",!1,void 0,{forceHttps:!0}),new c.ServerApi("socialize.facebookGraphOperation","graphPath|graphParams|authRequired|method|authType"),new c.ServerApi("socialize.getTopShares","age|tag|limit"),new c.ServerApi("socialize.notifySSOLogin",
"bp_channel_url"),new c.ServerApi("gm.getChallengeStatus","UID|includeChallenges|excludeChallenges|details|lang|actionAttributes|profileAttributes"),new c.ServerApi("gm.resetLevelStatus","challenges|actionAttributes|profileAttributes",!0),new c.ServerApi("gm.getTopUsers","challenge|totalCount|friendsCount|includeSelf|period|lang|actionAttributes|profileAttributes"),new c.ServerApi("gm.getChallengeConfig","UID|includeChallenges|excludeChallenges|lang|actionAttributes|profileAttributes|expandActions"),
new c.ServerApi("gm.notifyAction","action|operation|challengeIDs|actionAttributes|profileAttributes",!0),new c.ServerApi("comments.postComment","categoryID|streamID|parentID|guestName|guestEmail|commentText|mediaItems|privacy|feedID|userAction|UserAction|scope|enabledProviders|disabledProviders|shortURLs|commentTitle|ratings|tags|taggedUsers|streamTags|actionAttributes|profileAttributes"),new c.ServerApi("comments.getComments","categoryID|streamID|includeSettings|start|startTS|threadLimit|sort|threaded|threadDepth|includeStreamInfo|includeOpenidUID|includeUID|includeReplies|tags|dataFormat|includeUserOptions|includeUserComments|includeRatingsDims"),
new c.ServerApi("comments.setStreamInfo","categoryID|streamID|streamTitle|streamURL|streamInfoSig|streamTags"),new c.ServerApi("comments.getTopStreams","categoryID|limit|maxStreamAge|includeLastComment|streamTag|minRatingsCount"),new c.ServerApi("comments.getTopRatedStreams","categoryID|limit|maxStreamAge|ratingClass|minRatingsCount|streamTag"),new c.ServerApi("comments.getStreamInfo","categoryID|streamID|streamIDs|includeLastComment|includeRatingsDims"),new c.ServerApi("comments.flagComment","categoryID|streamID|commentID|actionAttributes|profileAttributes"),
new c.ServerApi("comments.vote","categoryID|streamID|commentID|vote|actionAttributes|profileAttributes",!0),new c.ServerApi("comments.getUserVotes","categoryID|streamID",!0),new c.ServerApi("comments.getUserComments","categoryID|streamID|tag|senderUID|start|limit|sort|includeReplies|includeStreamInfo",!0),new c.ServerApi("comments.getFriendsComments","categoryID|streamID|start|limit|includeUID|sort|includeReplies|includeStreamInfo",!0),new c.ServerApi("comments.getThread","categoryID|streamID|commentID|start|includeUID|limit|threadDepth|sort"),
new c.ServerApi("comments.deleteComment","categoryID|streamID|commentID",!0),new c.ServerApi("comments.getRelatedUsers","categoryID|streamID|parentCommentID|usernamePrefix|limit"),new c.ServerApi("comments.analyzeMediaItem","categoryID|urls"),new c.ServerApi("comments.subscribe","categoryID|streamID|email|lang"),new c.ServerApi("comments.unsubscribe","categoryID|streamID|unsubscribeToken"),new c.ServerApi("comments.setUserOptions","replyNotifications|notificationsEmail|notificationsLanguage",!0),
new c.ServerApi("comments.getUserOptions","ServerApiKey",!0),new c.ServerApi("gcs.getUserData","type|fields",!0),new c.ServerApi("gcs.setUserData","data|type|updateBehavior",!0),new c.ServerApi("gcs.search","expTime|querySig|query"),new c.ServerApi("gcs.getSchema","schemaType"),new c.ServerApi("chat.getSettings","categoryID|streamID|skinID"),new c.ServerApi("chat.getMessages","categoryID|streamID|start|includeSettings"),new c.ServerApi("chat.postMessage","categoryID|streamID|messageText|isPrivate|actionAttributes|profileAttributes",
!0),new c.ServerApi("chat.resetChat","categoryID|streamID|timestamp|chatSignature"),new c.ServerApi("chat.blockUser","categoryID|streamID|UID|chatSignature"),new c.ServerApi("chat.deleteMessage","categoryID|streamID|messageId|chatSignature"),new c.ServerApi("accounts.login","loginID|password|sessionExpiration|targetEnv|regToken|include|actionAttributes|profileAttributes|includeUserInfo|includeDynamicSchema|bp_channel_url|captchaToken|captchaText",!1,void 0,{clearSession:!0,forceHttps:!0,forcePost:!0}),
new c.ServerApi("accounts.linkAccounts","loginID|password|sessionExpiration|targetEnv|include|regToken|includeUserInfo|bp_channel_url",!1,void 0,{forceHttps:!0,forcePost:!0}),new c.ServerApi("accounts.initRegistration","sdk",!1,void 0,{clearSession:!0}),new c.ServerApi("accounts.register","username|email|password|UID|regToken|siteUID|secretQuestion|secretAnswer|regSource|profile|data|captchaText|captchaToken|lang|hashedPassword|pwHashAlgorithm|skipVerification|finalizeRegistration|targetEnv|sessionExpiration|include|actionAttributes|profileAttributes|includeUserInfo|bp_channel_url",
!1,void 0,{forceHttps:!0,forcePost:!0}),new c.ServerApi("accounts.finalizeRegistration","regToken|targetEnv|include|includeUserInfo|bp_channel_url"),new c.ServerApi("accounts.captchaImage","regToken"),new c.ServerApi("accounts.importProfilePhoto","regToken|URL|publish"),new c.ServerApi("accounts.resetPassword","lang|loginID|passwordResetToken|secretAnswer|securityFields|newPassword|email",void 0,{forceHttps:!0,forcePost:!0}),new c.ServerApi("accounts.isAvailableLoginID","loginID"),new c.ServerApi("accounts.resendVerificationCode",
"regToken|email"),new c.ServerApi("accounts.getCaptcha",""),new c.ServerApi("accounts.getPolicies","sections"),new c.ServerApi("accounts.getSchema","sections|schemaType"),new c.ServerApi("accounts.getAccountInfo","include|extraProfileFields|regToken",!0,{},{},"regToken"),new c.ServerApi("accounts.setAccountInfo","profile|data|regToken|oldPassword|password|newPassword|addLoginEmails|removeLoginEmails|username|secretQuestion|secretAnswer|requirePasswordChange",!1,void 0,{forceHttps:!0,forcePost:!0},
"regToken"),new c.ServerApi("accounts.logout","signIDs",!0,{preprocessor:function(d,c){if(a.partnerSettings.ssoKey)d.signIDs=true;c()}}),new c.ServerApi("accounts.search","expTime|querySig|query"),new c.ServerApi("accounts.getScreenSets","screenSetIDs|include"),new c.ServerApi("accounts.incrementCounters","counters",!0,{preprocessor:function(a,c){var b=a.actionCounterPath,g=a.counters;if(b&&g)for(var e=0;e<g.length;e++){var f=g[e];typeof f=="object"&&!f.path&&(f.path=b)}c()}}),new c.ServerApi("accounts.getCounters",
"counters",!0),new c.ServerApi("accounts.tfa.getProviders","regToken",!0,{},{},"regToken"),new c.ServerApi("accounts.tfa.initTFA","provider|mode|regToken",!1,{},{forceHttps:!0}),new c.ServerApi("accounts.tfa.finalizeTFA","gigyaAssertion|providerAssertion|tempDevice|regToken",!0,{},{},"regToken"),new c.ServerApi("accounts.tfa.deactivateProvider","provider",!0),new c.ServerApi("accounts.tfa.unregisterDevice","allDevices",!0),new c.ServerApi("accounts.tfa.phone.getRegisteredPhoneNumbers","gigyaAssertion",
!1,{},{forceHttps:!0}),new c.ServerApi("accounts.tfa.phone.removePhone","gigyaAssertion|phoneId",!1,{},{forceHttps:!0}),new c.ServerApi("accounts.tfa.phone.sendVerificationCode","gigyaAssertion|lang|phoneID|phone|method",!1,{},{forceHttps:!0}),new c.ServerApi("accounts.tfa.phone.completeVerification","gigyaAssertion|phvToken|code",!1,{},{forceHttps:!0}),new c.ServerApi("ds.store","type|data|oid|updateBehavior"),new c.ServerApi("ds.get","type|data|oid|fields"),new c.ServerApi("ds.search","expTime|querySig|query"),
new c.ServerApi("ds.getSchema",""),new c.ServerApi("ds.delete","type|oid|fields"),new c.ServerApi("ids.getAccountInfo","include|extraProfileFields",!0),new c.ServerApi("ids.setAccountInfo","profile|data|oldPassword|password|newPassword|addLoginEmails|removeLoginEmails|username|secretQuestion|secretAnswer|requirePasswordChange",!1,void 0,{forceHttps:!0,forcePost:!0}),new c.ServerApi("ids.search","expTime|querySig|query")];a.utils.functions.createAlias("gigya.socialize.showChatUI",a.chat.showChatUI);
a.utils.functions.createAlias("gigya.socialize.showCommentsUI",a.comments.showCommentsUI);a.utils.functions.createAlias("gigya.socialize.showRatingUI",a.comments.showRatingUI);a.utils.functions.createAlias("gigya.services.socialize",a.socialize);a.utils.functions.createAlias("gigya.services.gcs",a.gcs);a.utils.functions.createAlias("gigya.services.gm",a.gm);a.utils.functions.createAlias("gigya.services.comments",a.comments);a.utils.functions.createAlias("gigya.services.accounts",a.accounts);a.utils.functions.createAlias("gigya.socialize.connect",
a.socialize.addConnection);a.utils.functions.createAlias("gigya.socialize.disconnect",a.socialize.removeConnection);a.utils.functions.createAlias("gigya.socialize.linkAccounts",a.socialize.setUID);a.utils.functions.createAlias("gigya.socialize.showConnectUI",a.socialize.showAddConnectionsUI);a.utils.functions.createAlias("gigya.socialize.showNewsfeedUI",a.socialize.showFeedUI);a.utils.functions.createAlias("gigya.showDebugUI",a.socialize.showDebugUI)})(a._||(a._={}))})(gigya||(gigya={}));
(function(a){(function(c){(function(d){function c(){if("undefined"!=typeof FB){var b=function(b){d.initializedTime=new Date;d.isConnected="connected"==b.status;d.isLoggedIn="unknown"!=b.status;a.events.global.dispatch({eventName:"FBCRefreshed"})};a.fbAppID&&(FB&&FB.getLoginStatus)&&FB.getLoginStatus(b,!0)}}function b(){for(var a=g,b=0;b<a.length;b++)a[b]();g=[]}var g=[];d.initializedTime;d.isLoggedIn=!1;d.isConnected=!1;d.isLoaded=function(){return null!=d.initializedTime};d.load=function(b){if(!d.initializedTime){d.initializedTime=
null;window.setInterval(function(){a.external.facebook.refreshSession()},27E5);window.fbAsyncInit=function(){var f=a.utils.object.clone(a.thisScript.globalConf.facebookInitParams);f||(f={});a.fbAppID&&(f.appId=a.fbAppID);f.status=!1;f.cookie=!0;f.xfbml=!0;f.oauth=!0;FB.init(f);!0!=b?FB.getLoginStatus(function(b){d.initializedTime=new Date;d.isConnected=b.status=="connected";d.isLoggedIn=b.status!="unknown";a.events.global.dispatch({eventName:"facebookLoaded",isLoggedIn:d.isLoggedIn,isConnected:d.isConnected});
a.socialize.addEventHandlers({listenerType:"component"},{listenerDescription:"listener for updating Facebook Connect session",onLogin:function(){c()},onConnect:function(){c()},onLogout:function(){c()}})},!0):(d.initializedTime=new Date,a.events.global.dispatch({eventName:"facebookLoaded",isLoggedIn:d.isLoggedIn,isConnected:d.isConnected}))};var f=document.createElement("div");f.id="fb-root";a.utils.DOM.appendToBody(f);a.utils.script.load(document.location.protocol+"//connect.facebook.net/"+a.thisScript.lang.full.replace("-",
"_")+"/all.js",null,function(){"none"==document.documentElement.style.display&&(document.documentElement.style.display="")},!0)}};d.refreshSession=c;d.retryPending=b;d.runWhenLoaded=function(a){g.push(a)};d.getParams=function(){var a={};if("undefined"!=typeof FB&&FB.getAuthResponse)try{var b=FB.getAuthResponse();if(b&&(null!=b.userID&&(a.fb_UID=b.userID),null!=b.accessToken&&(a.fb_at=b.accessToken),null!=b.expiresIn))a.fb_exp=b.expiresIn}catch(d){}return a};d.autoLogin=function(){a.socialize.waitForService({service:"facebook",
callback:function(){a._.apiAdapter.isSessionValid(a.thisScript.globalConf,function(b){var d=a.external.facebook.getParams();!b&&(d&&d.fb_at)&&a.socialize.notifyLogin({providerSessions:{facebook:{authToken:d.fb_at,tokenExpiresIn:d.fb_exp}}})})}})};a.events.global.add("facebookLoaded",b,"component");a.events.global.add("onFBCRefreshed",b,"component")})(c.facebook||(c.facebook={}))})(a.external||(a.external={}))})(gigya||(gigya={}));
(function(a){(function(c){(function(d){d._ready=null;d.executeOnInit=function(d,b){d&&(b||(b=2E3),a.external.backplane.isLoaded()?!a.external.backplane.getChannelId()&&!a.external.backplane._ready?(window.setTimeout(function(){a.external.backplane._ready||(a.external.backplane._ready=!0,d())},b),Backplane(function(){a.external.backplane._ready=!0;d()})):(a.external.backplane._ready=!0,d()):d())};d.isLoaded=function(){return"undefined"!=typeof Backplane};d.getChannelId=function(){if(a.external.backplane.isLoaded())return Backplane.getChannelID()};
d.resetChannel=function(){a.external.backplane.isLoaded()&&Backplane.resetCookieChannel()};a.events.global.add("logout",a.external.backplane.resetChannel)})(c.backplane||(c.backplane={}))})(a.external||(a.external={}))})(gigya||(gigya={}));
(function(a){(function(a){(function(a){a.getMetaTag=function(a){for(var b=document.getElementsByTagName("meta"),d=0;d<b.length;d++)if(b[d].getAttribute("property")==a&&b[d].getAttribute("content"))return b[d].getAttribute("content")}})(a.opengraph||(a.opengraph={}))})(a.external||(a.external={}))})(gigya||(gigya={}));
(function(a){(function(c){(function(a){a[a.LocalStorageListener=0]="LocalStorageListener";a[a.PostMessage=1]="PostMessage";a[a.Flash=2]="Flash"})(c.MessagingMethod||(c.MessagingMethod={}));c.checkCompleteRegistration=function(d,c,b){var g,e;if(!c.dontHandleScreenSet&&(206001==d.errorCode||403043==d.errorCode||206002==d.errorCode||206003==d.errorCode||403101==d.errorCode||403102==d.errorCode||403110==d.errorCode||403100==d.errorCode)){var f;403110==d.errorCode&&(f=e=!0);c.defaultMobileRegScreenSet&&
a.localInfo.isMobile?g=c.defaultMobileRegScreenSet:c.defaultRegScreenSet&&(g=c.defaultRegScreenSet)}g?a.accounts.showScreenSet({newPopup:f,initialResponse:d,screenSet:g,onHide:function(a){"finished"===a.reason&&a.user?b({errorCode:0,userInfo:a.user},!0,e):b(d)}}):b(d)};c.getGigyaSettings=function(d){var c=a.utils.localStorage.getItem("gigyaSettings");try{c=a.utils.JSON.deserialize(c)}catch(b){c={}}c||(c={});return a.utils.JSON.serialize(c[d])};c.setGigyaSettings=function(d,c){var b=a.utils.localStorage.getItem("gigyaSettings");
try{b=a.utils.JSON.deserialize(b)}catch(g){b={}}b||(b={});b[d]||(b[d]={});for(var e in c)b[d][e]=c[e];a.utils.localStorage.setItem("gigyaSettings",a.utils.JSON.serialize(b))};c.delGigyaSettings=function(d){if(d){var c=a.utils.localStorage.getItem("gigyaSettings");c&&(c=a.utils.JSON.deserialize(c),delete c[d],a.utils.localStorage.setItem("gigyaSettings",a.utils.JSON.serialize(c)))}else a.utils.localStorage.removeItem("gigyaSettings")};c.handleSpecialFields=function(d){var c=a.socialize.Collection,
b=function(b,d){for(var c=[],e=0,g=b[e];g;)c.push(new d(g)),c[e].identities&&a._.convertIdentitiesArrayToObject(c[e]),g=b[++e];return c};d.photos&&(d.photos=new c(d.photos,""));d.albums&&(d.albums=new c(d.albums,""));d.contacts&&(d.contacts=new c(b(d.contacts,a.socialize.Contact),"email"));d.friend&&(d.friend=new c(b(d.friend,a.socialize.Friend),"UID"));d.user&&(d.user=new a.socialize.User(d.user));if(d.friends&&d.friends instanceof Array){for(var g=[],e=0;e<d.friends.length;e++)g.push(d.friends[e].UID);
d.UIDs=g.join(",");d.friends=new c(b(d.friends,a.socialize.Friend),"UID")}};c.convertIdentitiesArrayToObject=function(d){if(null==d.identities)d.identities={};else if(d.identities.constructor==Array){var c=d.identities;d.identities={};for(var b=0;b<c.length;b++)d.identities[c[b].provider]=new a.socialize.Identity(c[b])}};c.addUserInfoToEvent=function(d,c,b){var g=d.user||d.userInfo;null==c&&(c={});null!=g&&(c.user=a.utils.object.clone(g),null!=d.isLoggedIn&&(c.user.isLoggedIn=d.isLoggedIn),null!=
d.isSiteUID&&(c.user.isSiteUID=d.isSiteUID),null!=d.iRank&&(c.user.iRank=d.iRank));b&&(a.utils.object.extractProperties(d,c,"signature|UIDSig|timestamp|UIDSignature|signatureTimestamp|UID"),null!=c.user&&(c.UID=g.UID,c.isSiteUID=g.isSiteUID));return c};c.sendEmailNative=function(d){var c=d.userAction||{};document.location.href="mailto:?to=&subject="+(c.title||"")+"&body="+(c.linkBack||"");a.socialize.sendEmail(d,{dontSendEmail:!0})}})(a._||(a._={}))})(gigya||(gigya={}));
(function(a){(function(c){function d(){a.utils.script.load(a.thisScript.base+"/js/gigya.services.socialize.plugins.log.min.js",null,function(){a.log.showConfig()},!0)}c._log=[];c._isEnabled=function(){return"1"==a.utils.cookie.get("_gig_dbgConsole_log")};c.addLog=function(d,b){if(a.log._isEnabled()){var b=a.utils.object.clone(b,!0,!1,4,null,!0),g=d;null!=b&&(g+=":"+("object"==typeof b?"\n":"")+a.utils.JSON.serialize(b,!0,!0));c._log.push(g);"object"==typeof console&&console.log(g);null!=document.getElementById("gigya_log")&&
a.log.show&&a.log.show()}};c.logCall=function(d,b,c){c||(c=b.lastSource);a.log.addLog("Calling "+d+(c&&c!=d?" for "+c:"")+(b.source&&c!=b.source?" initiated from "+b.source:"")+" with these params",b)};c.debug=d;c.showLog=function(){a.utils.script.load(a.thisScript.base+"/js/gigya.services.socialize.plugins.log.min.js",null,function(){a.log.show()},!0)};c.show=function(){};c.showConfig=function(){};a.utils.functions.createAlias("gigya.debug",d)})(a.log||(a.log={}))})(gigya||(gigya={}));
var defaultObjects={},defaultObjectsDef={User:"personwithuid+isLoggedIn|false,isConnected|false,isSiteUser|false,identities|{},providers|[],timestamp,UIDSig,UIDSignature,signatureTimestamp,loginProvider,loginProviderUID,capabilities|{}",Friend:"personwithuid+timestamp,friendshipSig,friendshipSignature,signatureTimestamp,timestamp,isSiteUser|false,identities|{}",Identity:"person+isExpiredSession|false,allowsLogin|false,providerUID,provider,isLoginIdentity|false,missingPermissions",Contact:"provider,firstName,lastName,nickname,email,photoURL",
person:"nickname,photoURL,thumbnailURL,birthDay|0,birthMonth|0,birthYear|0,gender,email,proxiedEmail,country,state,city,zip,firstName,lastName,profileURL,age|0",personwithuid:"person+UID,isSiteUID|false",UserAction:"actorUID,actorNickname,actionName,date|new Date(),targets|[],images|[],actionData1,actionData2,iconURL,title,linkBack,userMessage,description,actionLinks|[],mediaItems|[],subtitle"},createDefaultObject=function(a){var c={},a=defaultObjectsDef[a];-1!=a.indexOf("+")&&(c=createDefaultObject(a.split("+")[0]),
a=a.split("+")[1]);for(var a=a.split(","),d=0;d<a.length;d++){var h="",b=a[d].split("|");if(1<b.length)try{h=gigya.utils.JSON.deserialize(b[1])}catch(g){}c[b[0]]=h||""}return c},_createConstructor=function(a){return function(c){var d=defaultObjects[a],h;for(h in d)this[h]=gigya.utils.object.clone(d[h]);if("object"==typeof c)for(h in c)"function"!=typeof c[h]&&(this[h]=gigya.utils.object.clone(c[h]))}},def;
for(def in defaultObjectsDef)defaultObjects[def]=createDefaultObject(def),gigya.socialize[def]=_createConstructor(def);gigya.socialize.Collection=function(a,c){this.arr=a;this._key=c?c:""};
gigya.socialize.Collection.prototype={asArray:function(){return this.arr},each:function(a){for(var c=0,d=this.arr[c];d;)a(d,c),c++,d=this.arr[c]},getById:function(a){"undefined"==typeof this._hash&&this._buildHash();return(this._hash?this._hash:this.arr)[a]},getSize:function(){return this.arr.length},_buildHash:function(){var a=this._hash={},c=this._key;this.each(function(d){a["function"==typeof d[c]?d[c]():d[c]]=d})}};
gigya.socialize.UserAction.prototype={clone:function(){return new gigya.socialize.UserAction(gigya.utils.object.clone(this,!0,!0))},getTemplate:function(){return this.titleTemplate},setTemplate:function(a){this.titleTemplate=a},getActor:function(){return{UID:this.actorUID,nickname:this.actorNickname}},setActionName:function(a){this.actionName=a;return this},getActionName:function(){return this.actionName},getTemplateFields:function(){var a=[],c;for(c in this.templateFields)a.push(this.templateFields[c]);
return new gigya.socialize.Collection(a,"fieldName")},setTemplateField:function(a,c,d){this.templateFields[a]={fieldName:a,text:c,href:d};return this},getTemplateField:function(a){return this.templateFields[a]?this.templateFields[a]:null},addTarget:function(a){if("object"==typeof a)return this.targets.push({UID:a.UID,nickname:a.nickname?a.nickname:""}),this;if("string"==typeof a)return this.targets.push({UID:a,nickname:""}),this},addActionLink:function(a,c){this.actionLinks.push({text:a,href:c?c:
""});return this},addMediaItem:function(a){this.mediaItems.push(a);return this},setTitle:function(a){a&&(this.title=a);return this},setLinkBack:function(a){a&&a.toString&&(a=a.toString());a&&(this.linkBack=a);return this},setUserMessage:function(a){this.userMessage=a?a:"";return this},setDescription:function(a){this.description=a?a:"";return this},addImage:function(a,c){this.addMediaItem({type:"image",src:a,href:c})},getImages:function(){return new gigya.socialize.Collection(this.images,"")},getTargets:function(){return new gigya.socialize.Collection(this.targets,
"UID")},setIconURL:function(a){this.iconURL=a;return this},getIconURL:function(){return this.iconURL},getDate:function(){return this.date},setActionData1:function(a){this.actionData1=a;return this},getActionData1:function(){return this.actionData1},setActionData2:function(a){this.actionData2=a;return this},getActionData2:function(){return this.actionData2},setSubtitle:function(a){this.subtitle=a;return this},getSubtitle:function(){return this.subtitle}};
(function(a){(function(c){(function(d){function c(a,b){"undefined"===typeof b&&(b=d.arProviders);for(var e=0;e<b.length;e++)if(b[e].name.toLowerCase()==a.toLowerCase())return b[e]}function b(a,b){"undefined"===typeof b&&(b=d.arProviders);for(var c=0;c<b.length;c++)if(b[c].ID==a)return b[c]}function g(a,b,c){"undefined"===typeof b&&(b="");"undefined"===typeof c&&(c=a.arProviders);b=b.toLowerCase();b=b.split(" ").join("").toLowerCase().split(",");b=k(b,c);for(c=0;c<b.length;c++)for(var d=0;d<a.length;d++){var e=
a[d];(e=e.name||e.toString())&&(e=e.toLowerCase());e==b[c]&&a.splice(d,1)}return a}function e(a,b){null==b&&(b=[]);for(var c=[],d=0;d<a.length;d++){for(var e=a[d],f=!0,g=0;g<b.length;g++){for(var h=!1,i=0;i<e.arDefaultCapabilities.length;i++)if(e.arDefaultCapabilities[i].toLowerCase()==b[g].toLowerCase()){h=!0;break}if(!h){f=!1;break}}f&&c.push(e)}return c}function f(){return d.arProviders.concat()}function i(a,b){"undefined"===typeof b&&(b=a.arProviders);for(var a=(""+a).split(" ").join("").toLowerCase(),
d=(""+a).split(","),d=k(d,b),e=[],f=0;f<d.length;f++){var g=c(d[f],b);null!=g&&e.push(g)}return e}function k(a,b){b||(b=d.arProviders);for(var c=[],e=0;e<a.length;e++)if("*"==a[e])for(var f=0;f<b.length;f++){for(var g=!1,h=0;h<a.length;h++)a[h].toLowerCase()==b[f].name.toLowerCase()&&(g=!0);!g&&!b[f].explicitOnly&&c.push(b[f].name)}else c.push(a[e]);return c}d._aliases={};var j=function(){function a(b,c,e,f,g,h,i){this.ID=b;this.displayName=c;this.width=e;this.height=f;this.explicitOnly=h;this.aliases=
i;this.windowOptions="menubar=0,toolbar=0,resizable=1,scrollbars=1,width="+e+",height="+f;this.arDefaultCapabilities=g.split(",");this.name=c.toLowerCase().split(" ").join("").split("!").join("").split("+").join("plus");if(i){d._aliases||(d._aliases={});b=i.split("|");for(c=0;c<b.length;c++)d._aliases[b[c]]=this.name}"messenger"==this.name&&(this.displayName="Microsoft");"customopenid"==this.name&&(this.displayName="OpenID")}a.prototype.toString=function(){return this.name};return a}();d.Provider=
j;d.arProviders=[new j(64,"Facebook",650,400,"login,friends,actions,status,photos,places,checkins"),new j(9012,"Twitter",800,440,"login,friends,notifications,actions,status,places,checkins"),new j(9811,"Google",410,450,"login,contacts"),new j(72,"Google+",560,600,"login",!0),new j(9042,"LinkedIn",865,450,"login,friends,status,actions,notifications"),new j(9803,"Yahoo",500,567,"login,friends,contacts,notifications"),new j(1047,"Messenger",380,540,"login,friends,status,notifications",!1,"messenger|microsoft"),
new j(9832,"Instagram",440,420,"login,photos"),new j(9222,"Odnoklassniki",888,425,"login"),new j(9003,"Digg",730,590,"login",!0),new j(9007,"FourSquare",1E3,650,"login,friends,places,checkins"),new j(9809,"Orkut",610,510,"login,friends,status,actions,photos"),new j(8191,"Renren",450,350,"login,friends,status,actions"),new j(8203,"QQ",570,460,"login,actions"),new j(9821,"Sina",640,380,"login,status,actions"),new j(4228,"Mixi",1E3,720,"login,friends,actions,photos",!0),new j(9830,"Yahoo! JAPAN",980,
700,"login,friends,actions",!0),new j(8205,"Spiceworks",640,380,"login",!0),new j(8190,"Kaixin",610,510,"login,friends"),new j(9041,"VKontakte",610,510,"login,friends,photos,status,actions"),new j(9800,"AOL",530,720,"login"),new j(4096,"WordPress",700,540,"login"),new j(256,"Blogger",760,400,"login"),new j(1041,"Hyves",700,540,"login"),new j(16,"LiveJournal",670,360,"login"),new j(1043,"VeriSign",940,500,"login"),new j(1024,"Typepad",730,590,"login"),new j(4120,"OpenID",730,590,"login"),new j(4218,
"Netlog",730,590,"login",!0),new j(4222,"SignOn",870,900,"login",!0),new j(4224,"Orange France",730,590,"login",!0),new j(5002,"Livedoor",970,700,"login",!0),new j(8202,"VZnet",610,510,"login"),new j(9216,"Skyrock",610,510,"login,friends,status",!0),new j(5004,"Fox News",730,590,"login",!0),new j(1051,"PayPal",400,550,"login",!0),new j(9058,"Amazon",785,510,"login",!0),new j(9219,"Xing",785,510,"login,friends",!0),new j(4121,"Custom OpenID",730,590,"login",!0),new j(6002,"Site",730,590,"",!0)];d.getProviderByName=
c;d.getProviderById=b;d.hideProvidersByName=g;d.getProvidersForRequiredCapabilities=e;d.getAllProviders=f;d.getProvidersByName=i;d.replaceWildcard=k;a.utils.functions.createAlias("gigya.socialize.getAllProviders",f);a.utils.functions.createAlias("gigya.socialize.getProvidersByName",i);a.utils.functions.createAlias("gigya.socialize._getProviderByName",c);a.utils.functions.createAlias("gigya.socialize.hideProvidersByName",g);a.utils.functions.createAlias("gigya.socialize._getProviderByID",b);a.utils.functions.createAlias("gigya.socialize.getProvidersForRequiredCapabilities",
e)})(c.providers||(c.providers={}))})(a._||(a._={}))})(gigya||(gigya={}));
(function(a){(function(c){function d(c,b,g,e,f,i){"undefined"===typeof i&&(i={});var k=arguments;a.utils.functions.invokeOnPageLoad(function(){window.setTimeout(function(){if(c)if(b||(b=a.thisScript.APIKey),a.utils.queue.isActive("API"))a.utils.queue.waitFor("API",d,k);else{var j=i.actionCounterPath||a.thisScript.globalConf.actionCounterPath,l={sdk:"js",f:"re",e:c,ak:b,cid:g,source:e,sourceData:f,now:(new Date).getTime(),ucid:a._.apiAdapter.getUcid(),actionCounterPath:j};if(i)for(var m in i)l[m]=
i[m];a._.apiAdapter.isSessionValid(i,function(b){b=b?"https":a.thisScript.protocol;if(b=="https"&&(c=="load"||c=="loadc")&&!j)b=a.thisScript.protocol;if(b=="https")l.gcid=a._.apiAdapter.getGcid();var b=a.utils.stringUtils.format("{0}://gscounters.{1}/gs/api.ashx?{2}",b,a.partnerSettings.plugins.apiDomain,a.utils.keyValue.serialize(l)),d=document.createElement("img");d.style.position="absolute";d.style.width="1px";d.style.height="1px";d.style.left="-1000px";d.src=b;d.onload=function(){d.parentNode.removeChild(d)};
a.utils.DOM.appendToBody(d)})}},500)},!0)}c.trackAddressBarShares=function(){if(a.thisScript.globalConf.trackAddressBarShares){var c=a._.apiAdapter.getTokenParam(a.thisScript.APIKey,"UUID"),b=document.location.href.split("#");if(1==b.length||""==b[1])document.location.replace("#guid="+(c?c:"_"))}};c.report=d;c.reportLoad=function(a,b){if(!b._reportedLoad&&b.containerID){b._reportedLoad=!0;var c="load";"gigya.socialize.plugins.reactions.showReactionsBarUI"!=a&&("gigya.socialize.plugins.simpleshare.showSimpleShareUI"==
a&&(c="loadSimple"),this.report(c,b.APIKey,b.cid,b.source,b.sourceData))}}})(a.reports||(a.reports={}))})(gigya||(gigya={}));
(function(a){a.build||(a.build={version:"",time:""});a.partnerSettings||(a.partnerSettings={authMode:"cookie",baseDomains:"",plugins:{apiDomain:"us1.gigya.com"}});a.isGigya||(a.isGigya=!0);a.partnerSettings||(a.partnerSettings={authMode:"cookie",baseDomains:"",plugins:{apiDomain:"us1.gigya.com"}});a.thisScript;var c;(function(){function c(b){a.utils.cookie.get("gig_debug")=="1"?a.socialize.showDebugUI({ignoreApiQueue:true,waitForDebug:false,onLoad:b}):b()}function h(){a.utils.functions.invokeOnPageLoad(function(){typeof window.gigya_omniture_conf!=
"undefined"&&a.utils.script.load(a.thisScript.base+"/js/GenesisExchange_Gigya.min.js")})}function b(){var b=a.partnerSettings.baseDomains;if(b)for(var b=b.split(","),c=0;c<b.length;c++){var d=b[c],e=a.localInfo.pageDomain.indexOf(d);if(e>=0&&e==a.localInfo.pageDomain.length-d.length&&(e==0||a.localInfo.pageDomain.charAt(e-1)=="."))return d}return document.location.href.split("://")[1].split("/")[0]}function g(a){a||(a="en-US");var a=a.replace("_","-").toLowerCase(),b=a.split("-"),c=b[0],b=b.length>
1?b[1]:c,b=b.toUpperCase();switch(a){case "es-mx":case "pt-br":case "zh-cn":case "zh-hk":case "zh-tw":case "en-gb":case "te-st":case "fr-inf":case "de-inf":case "es-inf":case "nl-inf":break;default:a=c}return{full:c+"-"+b,langCode:a,countryCode:b}}function e(b){for(var c=document.getElementsByTagName("script"),d,f=c.length-1;f>=0;f--){var h=c[f],i=h.src.toLowerCase();if(i!=""&&(i.indexOf("//cdn.gigya.com")>-1||i.indexOf("//cdns.gigya.com")>-1||i.indexOf("?apikey=")>-1)&&(i.indexOf("gigya.js")>-1||
i.indexOf("socialize.js")>-1||i.indexOf("socialize2.js")>-1||i.indexOf("gsjssdk.js")>-1)){d=h;break}}if(d&&!window.__gig_hidescript){var c=d.src.split("/"),f=a.utils.URL.getParamsFromURL(d.src,true)||{},k;if(d.innerHTML.replace(/^\s+|\s+$/g,"")!="")try{k=a.utils.JSON.deserialize(d.innerHTML);typeof k!="object"&&(k={})}catch(r){alert("Gigya global configuration object parse error")}a.thisScript={scriptElement:d,protocol:d.src.toLowerCase().indexOf("https")==0?"https":"http",base:c[0]+"//"+c[2],APIKey:f.apikey,
lang:g(f.lang||(k?k.lang:null)),globalConf:a.utils.object.merge([a.partnerSettings.plugins||{},k||{},window.__gigyaConf||{}]),URLParams:f};!a.thisScript.APIKey&&typeof console=="object"&&console.warn?console.warn("**** WARNING - Loading socialize.js without an APIKey parameter is unsupported and may result in an unexpected behavior.  ****"):a.thisScript.globalConf.APIKey=a.thisScript.APIKey;a.thisScript.globalConf.lang=a.thisScript.lang.langCode;b()}else if(j<10){j++;window.setTimeout(function(){e(b)},
200)}else{a.thisScript={scriptElement:null,protocol:document.location.protocol=="http:"?"http":"https",base:document.location.protocol=="https:"?"cdns.gigya.com":"cdn.gigya.com",APIKey:"",lang:g(""),globalConf:{},URLParams:{}};b()}}function f(b){var e=window.__gigAPIAdapterSettings;a._.apiAdapter=e&&e.getAdapterName()=="mobile"&&e.getAPIKey()==a.thisScript.APIKey?new a._.apiAdapters.mobile.MobileAdapter:new a._.apiAdapters.web.WebAdapter;a.utils.functions.createAlias("gigya.auth.loginToken.getTokenParam",
a._.apiAdapter.getTokenParam);c(function(){a._.apiAdapter.init(function(){b()})})}function i(){var b=a.utils.URL.getParamsFromURL(document.location.href);b.errorCode&&b.regToken&&a._.checkCompleteRegistration(b,a.thisScript.globalConf,function(){})}function k(){var b=a.localInfo;b.messagingMethod=b.isIE11||b.isIOSChrome?a._.MessagingMethod.LocalStorageListener:b.supportsPostMessage?a._.MessagingMethod.PostMessage:a._.MessagingMethod.Flash}var j=0;(function(){a.utils.queue.hold("bootstrap","API");
a.partnerSettings.baseDomain=b();e(function(){k();a.thisScript.globalConf.customEventMap&&a.events.addMap(a.thisScript.globalConf.customEventMap);f(function(){a.utils.queue.release("bootstrap","API");a.thisScript.globalConf.autoLogin&&a.external.facebook.autoLogin();i();a.reports.trackAddressBarShares();a.utils.functions.invokeOnPageLoad(function(){window.setTimeout(function(){a.socialize.trackReferrals()},1E3)})});h();typeof onGigyaServiceReady=="function"&&onGigyaServiceReady("socialize");a.reports.report("loadc",
a.thisScript.APIKey,null,null,null,{sref:document.referrer})})})()})(c||(c={}))})(gigya||(gigya={}));


} else if (typeof console == 'object' && console.warn) {
console.warn('**** Socialize.js loaded twice ****');
}